<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Angular SSR + Transloco 國際化配置實戰指南 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="基於實際專案經驗的 Angular 19+ SSR + Transloco 完整配置方案，包含所有必要檔案的完整程式碼，避免常見陷阱，實現穩定的多語系 SSR 應用。">
<meta property="og:type" content="article">
<meta property="og:title" content="Angular SSR + Transloco 國際化配置實戰指南">
<meta property="og:url" content="https://cookieseventeen.github.io/2025/06/29/angular-ssr-transloco-setup-complete-guide/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="基於實際專案經驗的 Angular 19+ SSR + Transloco 完整配置方案，包含所有必要檔案的完整程式碼，避免常見陷阱，實現穩定的多語系 SSR 應用。">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2025-06-29T08:00:00.000Z">
<meta property="article:modified_time" content="2025-07-13T12:45:33.806Z">
<meta property="article:author" content="Ben Hsieh">
<meta property="article:tag" content="Transloco">
<meta property="article:tag" content="Server-Side Rendering">
<meta property="article:tag" content="Angular Universal">
<meta property="article:tag" content="SSR Configuration">
<meta property="article:tag" content="Angular 19+">
<meta property="article:tag" content="Internationalization">
<meta property="article:tag" content="i18n">
<meta property="article:tag" content="Multi-language">
<meta property="article:tag" content="jsverse&#x2F;transloco">
<meta property="article:tag" content="Production Deployment">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">任何一件事做到極致都值得敬佩</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜尋"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜尋"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://cookieseventeen.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-angular-ssr-transloco-setup-complete-guide" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/29/angular-ssr-transloco-setup-complete-guide/" class="article-date">
  <time class="dt-published" datetime="2025-06-29T08:00:00.000Z" itemprop="datePublished">2025-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech-Daily/">Tech Daily</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Angular SSR + Transloco 國際化配置實戰指南
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="📋-核心懶人包"><a href="#📋-核心懶人包" class="headerlink" title="📋 核心懶人包"></a>📋 核心懶人包</h2><ol>
<li><strong>專案名稱關鍵</strong>：所有 <code>your-project-name</code> 必須替換為實際專案名稱，影響構建和部署</li>
<li><strong>SSR 雙重配置</strong>：瀏覽器端和伺服器端需要不同的 Transloco loader 配置</li>
<li><strong>檔案路徑核心</strong>：assets 配置決定語系檔案能否正確載入，build 和 test 都要設定</li>
<li><strong>容錯機制</strong>：完整的錯誤處理確保 SSR 環境下的穩定運行</li>
<li><strong>驗證流程</strong>：提供完整的測試和驗證步驟，確保配置成功</li>
</ol>
<h2 id="🏗️-專案概述"><a href="#🏗️-專案概述" class="headerlink" title="🏗️ 專案概述"></a>🏗️ 專案概述</h2><p>本指南基於實際專案經驗，提供 Angular 19+ SSR + Transloco 的完整配置方案：</p>
<ul>
<li>🎯 <strong>完整配置清單</strong>：所有必要檔案的詳細程式碼和配置</li>
<li>🔄 <strong>SSR 雙重架構</strong>：瀏覽器端和伺服器端的不同載入策略</li>
<li>📁 <strong>檔案結構標準</strong>：規範的專案結構和檔案組織方式</li>
<li>⚠️ <strong>避坑指南</strong>：常見問題的預防和解決方案</li>
<li>✅ <strong>驗證機制</strong>：完整的測試和除錯流程</li>
</ul>
<h2 id="🏗️-Angular-SSR-Transloco-架構圖"><a href="#🏗️-Angular-SSR-Transloco-架構圖" class="headerlink" title="🏗️ Angular SSR + Transloco 架構圖"></a>🏗️ Angular SSR + Transloco 架構圖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[Angular SSR + Transloco 應用] --&gt; B[瀏覽器端配置]</span><br><span class="line">    A --&gt; C[伺服器端配置]</span><br><span class="line">    </span><br><span class="line">    B --&gt; B1[app.config.ts]</span><br><span class="line">    B --&gt; B2[TranslocoHttpLoader]</span><br><span class="line">    B --&gt; B3[HTTP 載入語系檔案]</span><br><span class="line">    </span><br><span class="line">    C --&gt; C1[app.config.server.ts]</span><br><span class="line">    C --&gt; C2[TranslocoSSRLoader]</span><br><span class="line">    C --&gt; C3[檔案系統載入]</span><br><span class="line">    </span><br><span class="line">    B3 --&gt; D[assets/i18n/]</span><br><span class="line">    C3 --&gt; D</span><br><span class="line">    D --&gt; D1[en.json]</span><br><span class="line">    D --&gt; D2[zh-tw.json]</span><br><span class="line">    </span><br><span class="line">    B1 --&gt; E[瀏覽器渲染]</span><br><span class="line">    C1 --&gt; F[伺服器端渲染]</span><br><span class="line">    </span><br><span class="line">    E --&gt; G[用戶端體驗]</span><br><span class="line">    F --&gt; G</span><br><span class="line">    </span><br><span class="line">    G --&gt; H[多語系應用]</span><br></pre></td></tr></table></figure>

<h1 id="Angular-SSR-Transloco-國際化配置實戰指南"><a href="#Angular-SSR-Transloco-國際化配置實戰指南" class="headerlink" title="Angular SSR + Transloco 國際化配置實戰指南"></a>Angular SSR + Transloco 國際化配置實戰指南</h1><h2 id="📚-指南簡介"><a href="#📚-指南簡介" class="headerlink" title="📚 指南簡介"></a>📚 <strong>指南簡介</strong></h2><p>本指南基於實際項目經驗，提供 <strong>Angular 19+ SSR + Transloco</strong> 的完整配置方案。包含所有必要檔案的完整程式碼，讓您可以快速上手並避免常見陷阱。</p>
<h3 id="技術環境"><a href="#技術環境" class="headerlink" title="技術環境"></a><strong>技術環境</strong></h3><ul>
<li>Angular 19.2.14+</li>
<li>@jsverse&#x2F;transloco</li>
<li>SSR + 預渲染支援</li>
<li>TypeScript</li>
</ul>
<h3 id="📋-重要提醒"><a href="#📋-重要提醒" class="headerlink" title="📋 重要提醒"></a><strong>📋 重要提醒</strong></h3><blockquote>
<p>⚠️ <strong>專案名稱替換</strong>：本指南中所有的 <code>your-project-name</code> 都需要替換為您的實際專案名稱。</p>
<p><strong>如何確認專案名稱？</strong></p>
<ol>
<li>檢查 <code>angular.json</code> 中的 <code>projects</code> 區塊</li>
<li>檢查 <code>package.json</code> 中的 <code>name</code> 欄位</li>
<li>建置後檢查 <code>dist/</code> 目錄下的資料夾名稱</li>
</ol>
<p><strong>替換範例：</strong><br>如果您的專案名稱是 <code>example_project_frontend</code>：</p>
<ul>
<li><code>your-project-name</code> → <code>example_project_frontend</code></li>
<li><code>npm run serve:ssr:your-project-name</code> → <code>npm run serve:ssr:example_project_frontend</code></li>
<li><code>dist/your-project-name/browser/</code> → <code>dist/example_project_frontend/browser/</code></li>
</ul>
</blockquote>
<hr>
<h2 id="🗂️-專案結構總覽"><a href="#🗂️-專案結構總覽" class="headerlink" title="🗂️ 專案結構總覽"></a>🗂️ <strong>專案結構總覽</strong></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">your-project/</span><br><span class="line">├── angular.json                    # ✅ Assets 配置</span><br><span class="line">├── src/</span><br><span class="line">│   ├── assets/</span><br><span class="line">│   │   └── i18n/                  # ✅ 語系檔案目錄</span><br><span class="line">│   │       ├── en.json</span><br><span class="line">│   │       └── zh-tw.json</span><br><span class="line">│   ├── app/</span><br><span class="line">│   │   ├── app.config.ts          # ✅ 瀏覽器端配置</span><br><span class="line">│   │   ├── app.config.server.ts   # ✅ SSR 配置</span><br><span class="line">│   │   ├── app.routes.server.ts   # SSR 路由</span><br><span class="line">│   │   └── core/</span><br><span class="line">│   │       └── services/</span><br><span class="line">│   │           ├── transloco.config.ts      # ✅ 瀏覽器端 Loader</span><br><span class="line">│   │           └── transloco-ssr.loader.ts  # ✅ SSR Loader</span><br><span class="line">│   ├── main.ts                    # 瀏覽器端入口</span><br><span class="line">│   └── main.server.ts             # ✅ SSR 入口 (關鍵配置)</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🔧-完整配置步驟"><a href="#🔧-完整配置步驟" class="headerlink" title="🔧 完整配置步驟"></a>🔧 <strong>完整配置步驟</strong></h2><h3 id="步驟-1：安裝必要套件"><a href="#步驟-1：安裝必要套件" class="headerlink" title="步驟 1：安裝必要套件"></a><strong>步驟 1：安裝必要套件</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安裝 Transloco</span></span><br><span class="line">ng add @jsverse/transloco</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果需要 SSR 支援 (Angular 17+)</span></span><br><span class="line">ng add @angular/ssr</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果是較舊版本 Angular (已棄用)</span></span><br><span class="line"><span class="comment"># ng add @nguniversal/express-engine</span></span><br></pre></td></tr></table></figure>

<h3 id="步驟-2：配置-angular-json-⚠️"><a href="#步驟-2：配置-angular-json-⚠️" class="headerlink" title="步驟 2：配置 angular.json ⚠️"></a><strong>步驟 2：配置 angular.json</strong> ⚠️</h3><p><strong>檔案路徑：</strong> <code>angular.json</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;$schema&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./node_modules/@angular/cli/lib/config/schema.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;projects&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;your-project-name&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="comment">// 👈 請替換為您的實際專案名稱</span></span><br><span class="line">            <span class="attr">&quot;projectType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;application&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;architect&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;builder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@angular-devkit/build-angular:application&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;outputPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;dist/your-project-name&quot;</span><span class="punctuation">,</span> <span class="comment">// 👈 請替換為您的實際專案名稱</span></span><br><span class="line">                        <span class="attr">&quot;index&quot;</span><span class="punctuation">:</span> <span class="string">&quot;src/index.html&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;browser&quot;</span><span class="punctuation">:</span> <span class="string">&quot;src/main.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;polyfills&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;zone.js&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;tsConfig&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsconfig.app.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;assets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                            <span class="punctuation">&#123;</span></span><br><span class="line">                                <span class="attr">&quot;glob&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**/*&quot;</span><span class="punctuation">,</span></span><br><span class="line">                                <span class="attr">&quot;input&quot;</span><span class="punctuation">:</span> <span class="string">&quot;public&quot;</span></span><br><span class="line">                            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                            <span class="punctuation">&#123;</span></span><br><span class="line">                                <span class="attr">&quot;glob&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**/*&quot;</span><span class="punctuation">,</span></span><br><span class="line">                                <span class="attr">&quot;input&quot;</span><span class="punctuation">:</span> <span class="string">&quot;src/assets&quot;</span><span class="punctuation">,</span></span><br><span class="line">                                <span class="attr">&quot;output&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/assets&quot;</span></span><br><span class="line">                            <span class="punctuation">&#125;</span></span><br><span class="line">                        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;styles&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/styles.scss&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;server&quot;</span><span class="punctuation">:</span> <span class="string">&quot;src/main.server.ts&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;outputMode&quot;</span><span class="punctuation">:</span> <span class="string">&quot;server&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;ssr&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                            <span class="attr">&quot;entry&quot;</span><span class="punctuation">:</span> <span class="string">&quot;src/server.ts&quot;</span></span><br><span class="line">                        <span class="punctuation">&#125;</span></span><br><span class="line">                    <span class="punctuation">&#125;</span></span><br><span class="line">                <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                    <span class="attr">&quot;builder&quot;</span><span class="punctuation">:</span> <span class="string">&quot;@angular-devkit/build-angular:karma&quot;</span><span class="punctuation">,</span></span><br><span class="line">                    <span class="attr">&quot;options&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">                        <span class="attr">&quot;polyfills&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;zone.js&quot;</span><span class="punctuation">,</span> <span class="string">&quot;zone.js/testing&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;tsConfig&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tsconfig.spec.json&quot;</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;assets&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                            <span class="punctuation">&#123;</span></span><br><span class="line">                                <span class="attr">&quot;glob&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**/*&quot;</span><span class="punctuation">,</span></span><br><span class="line">                                <span class="attr">&quot;input&quot;</span><span class="punctuation">:</span> <span class="string">&quot;public&quot;</span></span><br><span class="line">                            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">                            <span class="punctuation">&#123;</span></span><br><span class="line">                                <span class="attr">&quot;glob&quot;</span><span class="punctuation">:</span> <span class="string">&quot;**/*&quot;</span><span class="punctuation">,</span></span><br><span class="line">                                <span class="attr">&quot;input&quot;</span><span class="punctuation">:</span> <span class="string">&quot;src/assets&quot;</span><span class="punctuation">,</span></span><br><span class="line">                                <span class="attr">&quot;output&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/assets&quot;</span></span><br><span class="line">                            <span class="punctuation">&#125;</span></span><br><span class="line">                        <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;styles&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/styles.scss&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">                        <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span></span><br><span class="line">                    <span class="punctuation">&#125;</span></span><br><span class="line">                <span class="punctuation">&#125;</span></span><br><span class="line">            <span class="punctuation">&#125;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>關鍵重點：</strong></p>
<ul>
<li><code>&quot;input&quot;: &quot;src/assets&quot;</code> + <code>&quot;output&quot;: &quot;/assets&quot;</code> 確保語系檔案被正確複製</li>
<li>同時在 <code>build</code> 和 <code>test</code> 中都要配置</li>
</ul>
<h3 id="步驟-3：創建語系檔案"><a href="#步驟-3：創建語系檔案" class="headerlink" title="步驟 3：創建語系檔案"></a><strong>步驟 3：創建語系檔案</strong></h3><p><strong>檔案路徑：</strong> <code>src/assets/i18n/zh-tw.json</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;demo&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Demo 展示中心&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;subtitle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;組件展示與測試&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;buttons&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;primary&quot;</span><span class="punctuation">:</span> <span class="string">&quot;主要動作&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;secondary&quot;</span><span class="punctuation">:</span> <span class="string">&quot;次要動作&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;confirm&quot;</span><span class="punctuation">:</span> <span class="string">&quot;確認&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cancel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;取消&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;delete&quot;</span><span class="punctuation">:</span> <span class="string">&quot;刪除&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;edit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;編輯&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;save&quot;</span><span class="punctuation">:</span> <span class="string">&quot;儲存&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;form&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;使用者名稱&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;電子郵件&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;密碼&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;department&quot;</span><span class="punctuation">:</span> <span class="string">&quot;部門&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span> <span class="string">&quot;職位&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;loading&quot;</span><span class="punctuation">:</span> <span class="string">&quot;載入中...&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作成功&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;error&quot;</span><span class="punctuation">:</span> <span class="string">&quot;操作失敗&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;warning&quot;</span><span class="punctuation">:</span> <span class="string">&quot;警告訊息&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;navigation&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;home&quot;</span><span class="punctuation">:</span> <span class="string">&quot;首頁&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dashboard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;儀表板&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;components&quot;</span><span class="punctuation">:</span> <span class="string">&quot;組件展示&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="string">&quot;設定&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p><strong>檔案路徑：</strong> <code>src/assets/i18n/en.json</code></p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;demo&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;title&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Demo Center&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;subtitle&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Component Demo &amp; Testing&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;buttons&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;primary&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Primary Action&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;secondary&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Secondary Action&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;confirm&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Confirm&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;cancel&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Cancel&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;delete&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Delete&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;edit&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Edit&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;save&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Save&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;form&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;username&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Username&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;email&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Email&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;password&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Password&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;department&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Department&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;position&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Position&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;status&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;loading&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Loading...&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;success&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Success&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;error&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Error&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;warning&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Warning&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;navigation&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;home&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Home&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;dashboard&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Dashboard&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;components&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Components&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;settings&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Settings&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="步驟-4：創建瀏覽器端-Transloco-Loader"><a href="#步驟-4：創建瀏覽器端-Transloco-Loader" class="headerlink" title="步驟 4：創建瀏覽器端 Transloco Loader"></a><strong>步驟 4：創建瀏覽器端 Transloco Loader</strong></h3><p><strong>檔案路徑：</strong> <code>src/app/core/services/transloco.config.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpClient</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; inject, <span class="title class_">Injectable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Translation</span>, <span class="title class_">TranslocoLoader</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Observable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;rxjs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; catchError, tap &#125; <span class="keyword">from</span> <span class="string">&#x27;rxjs/operators&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 瀏覽器端 Transloco Loader</span></span><br><span class="line"><span class="comment"> * 使用 HTTP 請求載入語系檔案</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Injectable</span>(&#123; <span class="attr">providedIn</span>: <span class="string">&#x27;root&#x27;</span> &#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">TranslocoBrowserLoader</span> <span class="keyword">implements</span> <span class="title class_">TranslocoLoader</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> http = <span class="title function_">inject</span>(<span class="title class_">HttpClient</span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;🌐 [Browser Transloco] TranslocoBrowserLoader 被初始化！&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;🌐 [Browser Transloco] 瀏覽器端 Transloco Loader 已就緒&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getTranslation</span>(<span class="attr">lang</span>: <span class="built_in">string</span>): <span class="title class_">Observable</span>&lt;<span class="title class_">Translation</span>&gt; &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[Browser Transloco] 🌐 HTTP載入語系檔: <span class="subst">$&#123;lang&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[Browser Transloco] 請求路徑: /assets/i18n/<span class="subst">$&#123;lang&#125;</span>.json`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="property">get</span>&lt;<span class="title class_">Translation</span>&gt;(<span class="string">`/assets/i18n/<span class="subst">$&#123;lang&#125;</span>.json`</span>).<span class="title function_">pipe</span>(</span><br><span class="line">            <span class="title function_">tap</span>(<span class="function">(<span class="params"><span class="attr">translation</span>: <span class="title class_">Translation</span></span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[Browser Transloco] ✅ HTTP載入成功: <span class="subst">$&#123;lang&#125;</span>`</span>);</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[Browser Transloco] 載入的 keys:`</span>, <span class="title class_">Object</span>.<span class="title function_">keys</span>(translation));</span><br><span class="line">            &#125;),</span><br><span class="line">            <span class="title function_">catchError</span>(<span class="function">(<span class="params"><span class="attr">err</span>: <span class="built_in">any</span></span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[Browser Transloco] ❌ HTTP載入失敗: <span class="subst">$&#123;lang&#125;</span>`</span>, err);</span><br><span class="line">                <span class="keyword">throw</span> err;</span><br><span class="line">            &#125;)</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="步驟-5：創建-SSR-Transloco-Loader"><a href="#步驟-5：創建-SSR-Transloco-Loader" class="headerlink" title="步驟 5：創建 SSR Transloco Loader"></a><strong>步驟 5：創建 SSR Transloco Loader</strong></h3><p><strong>檔案路徑：</strong> <code>src/app/core/services/transloco-ssr.loader.ts</code></p>
<blockquote>
<p>💡 <strong>設計理念</strong>：採用明確的單一檔案路徑，避免多路徑嘗試的複雜性。<br>如果檔案找不到，提供清楚的錯誤訊息和診斷指引，讓開發者快速定位問題。</p>
</blockquote>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Injectable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Translation</span>, <span class="title class_">TranslocoLoader</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> fs <span class="keyword">from</span> <span class="string">&#x27;fs&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> path <span class="keyword">from</span> <span class="string">&#x27;path&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * SSR 專用 Transloco Loader</span></span><br><span class="line"><span class="comment"> * 使用文件系統直接讀取語系檔案</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 🎯 設計原則：</span></span><br><span class="line"><span class="comment"> * - 明確的檔案路徑，不嘗試多個可能位置</span></span><br><span class="line"><span class="comment"> * - 清楚的錯誤訊息和診斷指引</span></span><br><span class="line"><span class="comment"> * - 簡潔的邏輯，易於除錯和維護</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Injectable</span>(&#123; <span class="attr">providedIn</span>: <span class="string">&#x27;root&#x27;</span> &#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">TranslocoSSRLoader</span> <span class="keyword">implements</span> <span class="title class_">TranslocoLoader</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 使用雙重輸出確保 log 可見</span></span><br><span class="line">        process.<span class="property">stdout</span>.<span class="title function_">write</span>(<span class="string">&#x27;🚀 [SSR Transloco] TranslocoSSRLoader 被初始化！\n&#x27;</span>);</span><br><span class="line">        process.<span class="property">stdout</span>.<span class="title function_">write</span>(<span class="string">&#x27;🚀 [SSR Transloco] 伺服器端 Transloco Loader 已就緒\n&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;🚀 [SSR Transloco] TranslocoSSRLoader 被初始化！&#x27;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;🚀 [SSR Transloco] 伺服器端 Transloco Loader 已就緒&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getTranslation</span>(<span class="attr">lang</span>: <span class="built_in">string</span>): <span class="title class_">Promise</span>&lt;<span class="title class_">Translation</span>&gt; &#123;</span><br><span class="line">        <span class="comment">// 明確的語系檔案路徑 - Angular 建置後的標準路徑</span></span><br><span class="line">        <span class="keyword">const</span> filePath = path.<span class="title function_">join</span>(</span><br><span class="line">            process.<span class="title function_">cwd</span>(),</span><br><span class="line">            <span class="string">&#x27;dist&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;your-project-name&#x27;</span>, <span class="comment">// 👈 請替換為您的實際專案名稱</span></span><br><span class="line">            <span class="string">&#x27;browser&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;assets&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;i18n&#x27;</span>,</span><br><span class="line">            <span class="string">`<span class="subst">$&#123;lang&#125;</span>.json`</span></span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 載入過程追蹤</span></span><br><span class="line">        process.<span class="property">stdout</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco] 🚀 載入語系檔: <span class="subst">$&#123;lang&#125;</span>\n`</span>);</span><br><span class="line">        process.<span class="property">stdout</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco] 📂 工作目錄: <span class="subst">$&#123;process.cwd()&#125;</span>\n`</span>);</span><br><span class="line">        process.<span class="property">stdout</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco] 📁 檔案路徑: <span class="subst">$&#123;filePath&#125;</span>\n`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[SSR Transloco] 載入語系檔: <span class="subst">$&#123;lang&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[SSR Transloco] 工作目錄: <span class="subst">$&#123;process.cwd()&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[SSR Transloco] 檔案路徑: <span class="subst">$&#123;filePath&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>&lt;<span class="title class_">Translation</span>&gt;(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">            fs.<span class="title function_">readFile</span>(filePath, <span class="string">&#x27;utf8&#x27;</span>, <span class="function">(<span class="params"><span class="attr">err</span>: <span class="built_in">any</span>, <span class="attr">data</span>: <span class="built_in">string</span></span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                    <span class="keyword">const</span> errorMsg = <span class="string">`無法讀取語系檔: <span class="subst">$&#123;lang&#125;</span>`</span>;</span><br><span class="line">                    process.<span class="property">stderr</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco] ❌ <span class="subst">$&#123;errorMsg&#125;</span>\n`</span>);</span><br><span class="line">                    process.<span class="property">stderr</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco] 💡 請檢查以下項目:\n`</span>);</span><br><span class="line">                    process.<span class="property">stderr</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco]    1. 檔案是否存在: <span class="subst">$&#123;filePath&#125;</span>\n`</span>);</span><br><span class="line">                    process.<span class="property">stderr</span>.<span class="title function_">write</span>(</span><br><span class="line">                        <span class="string">`[SSR Transloco]    2. angular.json 中 assets 配置是否正確\n`</span></span><br><span class="line">                    );</span><br><span class="line">                    process.<span class="property">stderr</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco]    3. 是否已執行 ng build\n`</span>);</span><br><span class="line">                    process.<span class="property">stderr</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco]    4. 專案名稱是否正確設定\n`</span>);</span><br><span class="line"></span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[SSR Transloco] ❌ <span class="subst">$&#123;errorMsg&#125;</span>`</span>, err);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[SSR Transloco] 💡 請檢查:`</span>);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[SSR Transloco]    1. 檔案是否存在: <span class="subst">$&#123;filePath&#125;</span>`</span>);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[SSR Transloco]    2. angular.json 中 assets 配置是否正確`</span>);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[SSR Transloco]    3. 是否已執行 ng build`</span>);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[SSR Transloco]    4. 專案名稱是否正確設定`</span>);</span><br><span class="line">                    <span class="keyword">return</span> <span class="title function_">reject</span>(err);</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="keyword">const</span> translation = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(data) <span class="keyword">as</span> <span class="title class_">Translation</span>;</span><br><span class="line">                    process.<span class="property">stdout</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco] ✅ 成功載入語系檔: <span class="subst">$&#123;lang&#125;</span>\n`</span>);</span><br><span class="line">                    process.<span class="property">stdout</span>.<span class="title function_">write</span>(</span><br><span class="line">                        <span class="string">`[SSR Transloco] 🔑 載入的 keys: <span class="subst">$&#123;<span class="built_in">Object</span>.keys(translation).join(<span class="string">&#x27;, &#x27;</span>)&#125;</span>\n`</span></span><br><span class="line">                    );</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[SSR Transloco] ✅ 成功載入語系檔: <span class="subst">$&#123;lang&#125;</span>`</span>);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`[SSR Transloco] 載入的 keys:`</span>, <span class="title class_">Object</span>.<span class="title function_">keys</span>(translation));</span><br><span class="line">                    <span class="title function_">resolve</span>(translation);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (parseErr) &#123;</span><br><span class="line">                    process.<span class="property">stderr</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco] ❌ JSON 解析失敗: <span class="subst">$&#123;lang&#125;</span>\n`</span>);</span><br><span class="line">                    process.<span class="property">stderr</span>.<span class="title function_">write</span>(<span class="string">`[SSR Transloco] 💡 請檢查 JSON 檔案格式是否正確\n`</span>);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[SSR Transloco] ❌ JSON 解析失敗: <span class="subst">$&#123;lang&#125;</span>`</span>, parseErr);</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`[SSR Transloco] 💡 請檢查 JSON 檔案格式是否正確`</span>);</span><br><span class="line">                    <span class="title function_">reject</span>(parseErr);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="步驟-6：配置瀏覽器端應用"><a href="#步驟-6：配置瀏覽器端應用" class="headerlink" title="步驟 6：配置瀏覽器端應用"></a><strong>步驟 6：配置瀏覽器端應用</strong></h3><p><strong>檔案路徑：</strong> <code>src/app/app.config.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; provideHttpClient, withInterceptorsFromDi &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ApplicationConfig</span>, isDevMode &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideAnimationsAsync &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser/animations/async&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideRouter &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/router&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideTransloco &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; routes &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.routes&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">TranslocoBrowserLoader</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./core/services/transloco.config&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="title function_">provideRouter</span>(routes),</span><br><span class="line">        <span class="title function_">provideAnimationsAsync</span>(),</span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>()),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ✅ Transloco 配置</span></span><br><span class="line">        <span class="title function_">provideTransloco</span>(&#123;</span><br><span class="line">            <span class="attr">config</span>: &#123;</span><br><span class="line">                <span class="attr">availableLangs</span>: [<span class="string">&#x27;en&#x27;</span>, <span class="string">&#x27;zh-tw&#x27;</span>],</span><br><span class="line">                <span class="attr">defaultLang</span>: <span class="string">&#x27;zh-tw&#x27;</span>,</span><br><span class="line">                <span class="attr">fallbackLang</span>: <span class="string">&#x27;en&#x27;</span>,</span><br><span class="line">                <span class="attr">reRenderOnLangChange</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="comment">// 開發模式啟用 debug，生產模式關閉</span></span><br><span class="line">                <span class="attr">prodMode</span>: !<span class="title function_">isDevMode</span>(),</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">loader</span>: <span class="title class_">TranslocoBrowserLoader</span>,</span><br><span class="line">        &#125;),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 如果你有其他 providers，在此添加</span></span><br><span class="line">        <span class="comment">// providePrimeNG(&#123;...&#125;),</span></span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="步驟-7：配置-SSR-應用-🚨"><a href="#步驟-7：配置-SSR-應用-🚨" class="headerlink" title="步驟 7：配置 SSR 應用 🚨"></a><strong>步驟 7：配置 SSR 應用</strong> 🚨</h3><p><strong>檔案路徑：</strong> <code>src/app/app.config.server.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ApplicationConfig</span>, mergeApplicationConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideServerRendering &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-server&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideServerRouting &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/ssr&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="variable constant_">TRANSLOCO_LOADER</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; appConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.config&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; serverRoutes &#125; <span class="keyword">from</span> <span class="string">&#x27;./app.routes.server&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">TranslocoSSRLoader</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./core/services/transloco-ssr.loader&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="attr">serverConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="title function_">provideServerRendering</span>(),</span><br><span class="line">        <span class="title function_">provideServerRouting</span>(serverRoutes),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ✅ 關鍵：為 SSR 環境提供專門的 Transloco Loader</span></span><br><span class="line">        <span class="comment">// 這會覆蓋瀏覽器端的 HTTP loader，改用文件系統讀取</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">TRANSLOCO_LOADER</span>,</span><br><span class="line">            <span class="attr">useClass</span>: <span class="title class_">TranslocoSSRLoader</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ✅ 關鍵：合併配置確保所有 Transloco providers（包括 TRANSLOCO_TRANSPILER）都被包含</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> config = <span class="title function_">mergeApplicationConfig</span>(appConfig, serverConfig);</span><br></pre></td></tr></table></figure>

<h3 id="步驟-8：配置瀏覽器端入口點"><a href="#步驟-8：配置瀏覽器端入口點" class="headerlink" title="步驟 8：配置瀏覽器端入口點"></a><strong>步驟 8：配置瀏覽器端入口點</strong></h3><p><strong>檔案路徑：</strong> <code>src/main.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; bootstrapApplication &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app/app.component&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; appConfig &#125; <span class="keyword">from</span> <span class="string">&#x27;./app/app.config&#x27;</span>; <span class="comment">// ✅ 使用瀏覽器端配置</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 瀏覽器端應用程式的入口點</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 📝 說明：</span></span><br><span class="line"><span class="comment"> * - 使用 app.config.ts (瀏覽器端配置)</span></span><br><span class="line"><span class="comment"> * - 包含 HTTP 客戶端和瀏覽器端 Transloco Loader</span></span><br><span class="line"><span class="comment"> * - 在瀏覽器環境中執行</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="title function_">bootstrapApplication</span>(<span class="title class_">AppComponent</span>, appConfig).<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">error</span>(err));</span><br></pre></td></tr></table></figure>

<h3 id="步驟-9：配置-SSR-入口點-🚨"><a href="#步驟-9：配置-SSR-入口點-🚨" class="headerlink" title="步驟 9：配置 SSR 入口點 🚨"></a><strong>步驟 9：配置 SSR 入口點</strong> 🚨</h3><p><strong>檔案路徑：</strong> <code>src/main.server.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; bootstrapApplication &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/platform-browser&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AppComponent</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./app/app.component&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; config &#125; <span class="keyword">from</span> <span class="string">&#x27;./app/app.config.server&#x27;</span>; <span class="comment">// ✅ 關鍵：使用 server 配置</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * SSR 應用程式的入口點</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ⚠️ 重要：必須使用 app.config.server.ts 而不是 app.config.ts</span></span><br><span class="line"><span class="comment"> * 否則會導致 TRANSLOCO_TRANSPILER token 找不到的錯誤</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 📝 與 main.ts 的區別：</span></span><br><span class="line"><span class="comment"> * - 使用 app.config.server.ts (合併了瀏覽器端 + SSR 配置)</span></span><br><span class="line"><span class="comment"> * - 包含 SSR 專用的文件系統 Transloco Loader</span></span><br><span class="line"><span class="comment"> * - 在 Node.js 環境中執行</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">async</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">bootstrapApplication</span>(<span class="title class_">AppComponent</span>, config);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="🔍-main-ts-vs-main-server-ts-配置對比"><a href="#🔍-main-ts-vs-main-server-ts-配置對比" class="headerlink" title="🔍 main.ts vs main.server.ts 配置對比"></a><strong>🔍 main.ts vs main.server.ts 配置對比</strong></h3><table>
<thead>
<tr>
<th>特性</th>
<th><code>main.ts</code> (瀏覽器端)</th>
<th><code>main.server.ts</code> (SSR)</th>
</tr>
</thead>
<tbody><tr>
<td><strong>執行環境</strong></td>
<td>瀏覽器</td>
<td>Node.js 伺服器</td>
</tr>
<tr>
<td><strong>配置檔案</strong></td>
<td><code>app.config.ts</code></td>
<td><code>app.config.server.ts</code></td>
</tr>
<tr>
<td><strong>Transloco Loader</strong></td>
<td>HTTP 請求載入</td>
<td>文件系統讀取</td>
</tr>
<tr>
<td><strong>bootstrap 方式</strong></td>
<td>直接呼叫</td>
<td>返回 Promise 函數</td>
</tr>
<tr>
<td><strong>載入時機</strong></td>
<td>頁面載入時</td>
<td>每次 SSR 請求時</td>
</tr>
<tr>
<td><strong>語系檔案來源</strong></td>
<td><code>/assets/i18n/*.json</code></td>
<td><code>dist/*/browser/assets/i18n/*.json</code></td>
</tr>
</tbody></table>
<h3 id="步驟-10：創建-SSR-路由配置"><a href="#步驟-10：創建-SSR-路由配置" class="headerlink" title="步驟 10：創建 SSR 路由配置"></a><strong>步驟 10：創建 SSR 路由配置</strong></h3><p><strong>檔案路徑：</strong> <code>src/app/app.routes.server.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">RenderMode</span>, <span class="title class_">ServerRoute</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/ssr&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">serverRoutes</span>: <span class="title class_">ServerRoute</span>[] = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">renderMode</span>: <span class="title class_">RenderMode</span>.<span class="property">Prerender</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;demo&#x27;</span>,</span><br><span class="line">        <span class="attr">renderMode</span>: <span class="title class_">RenderMode</span>.<span class="property">Prerender</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;demo/components&#x27;</span>,</span><br><span class="line">        <span class="attr">renderMode</span>: <span class="title class_">RenderMode</span>.<span class="property">Prerender</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">path</span>: <span class="string">&#x27;**&#x27;</span>,</span><br><span class="line">        <span class="attr">renderMode</span>: <span class="title class_">RenderMode</span>.<span class="property">Server</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">];</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🧪-驗證與測試"><a href="#🧪-驗證與測試" class="headerlink" title="🧪 驗證與測試"></a>🧪 <strong>驗證與測試</strong></h2><h3 id="測試步驟-1：建置專案"><a href="#測試步驟-1：建置專案" class="headerlink" title="測試步驟 1：建置專案"></a><strong>測試步驟 1：建置專案</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 清理舊的建置檔案</span></span><br><span class="line"><span class="built_in">rm</span> -rf dist</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建置專案 (會顯示 SSR log)</span></span><br><span class="line">ng build</span><br><span class="line"></span><br><span class="line"><span class="comment"># 確認語系檔案已複製</span></span><br><span class="line"><span class="built_in">ls</span> -la dist/your-project-name/browser/assets/i18n/</span><br><span class="line"></span><br><span class="line"><span class="comment"># 💡 請將 your-project-name 替換為您的實際專案名稱</span></span><br><span class="line"><span class="comment"># 例如：ls -la dist/example_project_frontend/browser/assets/i18n/</span></span><br></pre></td></tr></table></figure>

<p><strong>預期輸出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">🚀 [SSR Transloco] TranslocoSSRLoader 被初始化！</span><br><span class="line">🚀 [SSR Transloco] 伺服器端 Transloco Loader 已就緒</span><br><span class="line">[SSR Transloco] 🚀 載入語系檔: zh-tw</span><br><span class="line">[SSR Transloco] 📂 工作目錄: /path/to/your/project</span><br><span class="line">[SSR Transloco] 📁 檔案路徑: /path/to/your/project/dist/your-project-name/browser/assets/i18n/zh-tw.json</span><br><span class="line">[SSR Transloco] ✅ 成功載入語系檔: zh-tw</span><br><span class="line">[SSR Transloco] 🔑 載入的 keys: onlydemo, common, demo</span><br></pre></td></tr></table></figure>

<h3 id="測試步驟-2：啟動-SSR-服務器"><a href="#測試步驟-2：啟動-SSR-服務器" class="headerlink" title="測試步驟 2：啟動 SSR 服務器"></a><strong>測試步驟 2：啟動 SSR 服務器</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 啟動 SSR 服務器</span></span><br><span class="line">npm run serve:ssr:your-project-name</span><br><span class="line"></span><br><span class="line"><span class="comment"># 💡 請將 your-project-name 替換為您的實際專案名稱</span></span><br><span class="line"><span class="comment"># 例如：npm run serve:ssr:example_project_frontend</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 其他常見的 SSR 啟動命令格式：</span></span><br><span class="line"><span class="comment"># npm run serve:ssr</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果不確定，可以檢查 package.json 的 scripts 區塊</span></span><br></pre></td></tr></table></figure>

<p><strong>預期輸出：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Node Express server listening on http://localhost:4000</span><br></pre></td></tr></table></figure>

<h3 id="測試步驟-3：驗證頁面內容"><a href="#測試步驟-3：驗證頁面內容" class="headerlink" title="測試步驟 3：驗證頁面內容"></a><strong>測試步驟 3：驗證頁面內容</strong></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 測試首頁</span></span><br><span class="line">curl -s http://localhost:4000/ | grep -E <span class="string">&quot;(title|Demo|展示)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 測試特定頁面</span></span><br><span class="line">curl -s http://localhost:4000/demo/components | grep -E <span class="string">&quot;(Demo|展示|按鈕|元件)&quot;</span></span><br></pre></td></tr></table></figure>

<p><strong>預期輸出：</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Demo 展示中心<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>Demo 展示中心<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>主要動作<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span>&gt;</span>次要動作<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="🎯-使用範例"><a href="#🎯-使用範例" class="headerlink" title="🎯 使用範例"></a>🎯 <strong>使用範例</strong></h2><h3 id="在組件中使用-Transloco"><a href="#在組件中使用-Transloco" class="headerlink" title="在組件中使用 Transloco"></a><strong>在組件中使用 Transloco</strong></h3><p><strong>檔案路徑：</strong> <code>src/app/components/demo/demo.component.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">TranslocoDirective</span>, <span class="title class_">TranslocoService</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">    <span class="attr">selector</span>: <span class="string">&#x27;app-demo&#x27;</span>,</span><br><span class="line">    <span class="attr">standalone</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">imports</span>: [<span class="title class_">TranslocoDirective</span>],</span><br><span class="line">    <span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div *transloco=&quot;let t&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;h1&gt;&#123;&#123; t(&#x27;demo.title&#x27;) &#125;&#125;&lt;/h1&gt;</span></span><br><span class="line"><span class="string">            &lt;p&gt;&#123;&#123; t(&#x27;demo.subtitle&#x27;) &#125;&#125;&lt;/p&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            &lt;div class=&quot;buttons&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;button class=&quot;primary&quot;&gt;&#123;&#123; t(&#x27;demo.buttons.primary&#x27;) &#125;&#125;&lt;/button&gt;</span></span><br><span class="line"><span class="string">                &lt;button class=&quot;secondary&quot;&gt;&#123;&#123; t(&#x27;demo.buttons.secondary&#x27;) &#125;&#125;&lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">            &lt;form&gt;</span></span><br><span class="line"><span class="string">                &lt;label&gt;&#123;&#123; t(&#x27;demo.form.username&#x27;) &#125;&#125;&lt;/label&gt;</span></span><br><span class="line"><span class="string">                &lt;input type=&quot;text&quot; /&gt;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">                &lt;label&gt;&#123;&#123; t(&#x27;demo.form.email&#x27;) &#125;&#125;&lt;/label&gt;</span></span><br><span class="line"><span class="string">                &lt;input type=&quot;email&quot; /&gt;</span></span><br><span class="line"><span class="string">            &lt;/form&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>,</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">DemoComponent</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="attr">transloco</span>: <span class="title class_">TranslocoService</span></span>) &#123;</span><br><span class="line">        <span class="comment">// 程式化使用</span></span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">transloco</span>.<span class="title function_">translate</span>(<span class="string">&#x27;demo.title&#x27;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 切換語言</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">transloco</span>.<span class="title function_">setActiveLang</span>(<span class="string">&#x27;en&#x27;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="語言切換組件"><a href="#語言切換組件" class="headerlink" title="語言切換組件"></a><strong>語言切換組件</strong></h3><p><strong>檔案路徑：</strong> <code>src/app/shared/components/language-switcher/language-switcher.component.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Component</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">TranslocoService</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span>(&#123;</span><br><span class="line">    <span class="attr">selector</span>: <span class="string">&#x27;app-language-switcher&#x27;</span>,</span><br><span class="line">    <span class="attr">standalone</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">template</span>: <span class="string">`</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;language-switcher&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;button (click)=&quot;setLang(&#x27;zh-tw&#x27;)&quot; [class.active]=&quot;currentLang === &#x27;zh-tw&#x27;&quot;&gt;</span></span><br><span class="line"><span class="string">                繁體中文</span></span><br><span class="line"><span class="string">            &lt;/button&gt;</span></span><br><span class="line"><span class="string">            &lt;button (click)=&quot;setLang(&#x27;en&#x27;)&quot; [class.active]=&quot;currentLang === &#x27;en&#x27;&quot;&gt;English&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>,</span><br><span class="line">    <span class="attr">styles</span>: [</span><br><span class="line">        <span class="string">`</span></span><br><span class="line"><span class="string">            .language-switcher button &#123;</span></span><br><span class="line"><span class="string">                margin: 0 5px;</span></span><br><span class="line"><span class="string">                padding: 8px 16px;</span></span><br><span class="line"><span class="string">                border: 1px solid #ccc;</span></span><br><span class="line"><span class="string">                background: white;</span></span><br><span class="line"><span class="string">                cursor: pointer;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">            .language-switcher button.active &#123;</span></span><br><span class="line"><span class="string">                background: #007bff;</span></span><br><span class="line"><span class="string">                color: white;</span></span><br><span class="line"><span class="string">            &#125;</span></span><br><span class="line"><span class="string">        `</span>,</span><br><span class="line">    ],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">LanguageSwitcherComponent</span> &#123;</span><br><span class="line">    currentLang = <span class="variable language_">this</span>.<span class="property">transloco</span>.<span class="title function_">getActiveLang</span>();</span><br><span class="line"></span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"><span class="keyword">private</span> <span class="attr">transloco</span>: <span class="title class_">TranslocoService</span></span>) &#123;</span><br><span class="line">        <span class="comment">// 監聽語言變更</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">transloco</span>.<span class="property">langChanges$</span>.<span class="title function_">subscribe</span>(<span class="function"><span class="params">lang</span> =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">currentLang</span> = lang;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">setLang</span>(<span class="params"><span class="attr">lang</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">transloco</span>.<span class="title function_">setActiveLang</span>(lang);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h2 id="⚠️-常見問題與解決方案"><a href="#⚠️-常見問題與解決方案" class="headerlink" title="⚠️ 常見問題與解決方案"></a>⚠️ <strong>常見問題與解決方案</strong></h2><h3 id="問題-1：Token-錯誤"><a href="#問題-1：Token-錯誤" class="headerlink" title="問題 1：Token 錯誤"></a><strong>問題 1：Token 錯誤</strong></h3><p><strong>錯誤訊息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NullInjectorError: No provider <span class="keyword">for</span> InjectionToken TRANSLOCO_TRANSPILER!</span><br></pre></td></tr></table></figure>

<p><strong>解決方案：</strong></p>
<ol>
<li>確認 <code>src/main.server.ts</code> 使用 <code>app.config.server.ts</code></li>
<li>確認 <code>mergeApplicationConfig(appConfig, serverConfig)</code> 正確合併</li>
</ol>
<h3 id="問題-2：語系檔案載入失敗"><a href="#問題-2：語系檔案載入失敗" class="headerlink" title="問題 2：語系檔案載入失敗"></a><strong>問題 2：語系檔案載入失敗</strong></h3><p><strong>錯誤訊息：</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">HTTP 404: /assets/i18n/zh-tw.json</span><br></pre></td></tr></table></figure>

<p><strong>解決方案：</strong></p>
<ol>
<li>檢查 <code>angular.json</code> 中的 assets 配置</li>
<li>確認語系檔案路徑：<code>src/assets/i18n/*.json</code></li>
<li>重新建置專案</li>
</ol>
<h3 id="問題-3：SSR-Loader-沒有被載入"><a href="#問題-3：SSR-Loader-沒有被載入" class="headerlink" title="問題 3：SSR Loader 沒有被載入"></a><strong>問題 3：SSR Loader 沒有被載入</strong></h3><p><strong>症狀：</strong> 沒有看到任何 SSR log 輸出</p>
<p><strong>診斷方法：</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. 檢查 SSR Loader 是否被載入</span></span><br><span class="line"><span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;🚀 SSR Loader 被初始化了嗎？&#x27;</span>); <span class="comment">// 如果看不到這個，代表沒載入</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. 手動檢查語系檔案是否存在</span></span><br><span class="line"><span class="comment">// 在終端執行：</span></span><br><span class="line"><span class="comment">// ls -la dist/your-project-name/browser/assets/i18n/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. 檢查路徑是否正確</span></span><br><span class="line"><span class="comment">// 確認 SSR Loader 中的專案名稱是否與實際建置目錄一致</span></span><br></pre></td></tr></table></figure>

<p><strong>解決方案：</strong></p>
<ol>
<li>檢查 <code>main.server.ts</code> 配置</li>
<li>確認 server config 中的 provider 註冊</li>
<li>驗證 <code>mergeApplicationConfig</code> 呼叫</li>
</ol>
<hr>
<h2 id="🚀-部署建議"><a href="#🚀-部署建議" class="headerlink" title="🚀 部署建議"></a>🚀 <strong>部署建議</strong></h2><h3 id="生產環境配置"><a href="#生產環境配置" class="headerlink" title="生產環境配置"></a><strong>生產環境配置</strong></h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/app.config.ts</span></span><br><span class="line"><span class="title function_">provideTransloco</span>(&#123;</span><br><span class="line">    <span class="attr">config</span>: &#123;</span><br><span class="line">        <span class="comment">// 生產環境設定</span></span><br><span class="line">        <span class="attr">prodMode</span>: !<span class="title function_">isDevMode</span>(), <span class="comment">// 會根據環境自動調整</span></span><br><span class="line">        <span class="attr">missingHandler</span>: &#123;</span><br><span class="line">            <span class="attr">logMissingKey</span>: !<span class="title function_">isDevMode</span>(), <span class="comment">// 只在開發環境 log 缺失的 key</span></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">loader</span>: <span class="title class_">TranslocoBrowserLoader</span>,</span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure>

<h3 id="建置腳本"><a href="#建置腳本" class="headerlink" title="建置腳本"></a><strong>建置腳本</strong></h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// package.json</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;build:prod&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ng build --configuration=production&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;serve:ssr:prod&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npm run build:prod &amp;&amp; npm run serve:ssr&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;prerender&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ng build --configuration=production&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<hr>
<h2 id="✅-配置檢查清單"><a href="#✅-配置檢查清單" class="headerlink" title="✅ 配置檢查清單"></a>✅ <strong>配置檢查清單</strong></h2><h3 id="🔍-專案名稱驗證"><a href="#🔍-專案名稱驗證" class="headerlink" title="🔍 專案名稱驗證"></a><strong>🔍 專案名稱驗證</strong></h3><ul>
<li><input disabled="" type="checkbox"> 確認實際專案名稱（檢查 <code>angular.json</code> 和 <code>package.json</code>）</li>
<li><input disabled="" type="checkbox"> 所有檔案中的 <code>your-project-name</code> 都已替換為實際專案名稱</li>
<li><input disabled="" type="checkbox"> SSR Loader 中的路徑使用正確的專案名稱</li>
</ul>
<h3 id="📁-基礎配置"><a href="#📁-基礎配置" class="headerlink" title="📁 基礎配置"></a><strong>📁 基礎配置</strong></h3><ul>
<li><input disabled="" type="checkbox"> <code>angular.json</code> assets 配置正確</li>
<li><input disabled="" type="checkbox"> 語系檔案存在於 <code>src/assets/i18n/</code></li>
<li><input disabled="" type="checkbox"> JSON 格式正確無誤</li>
</ul>
<h3 id="⚙️-SSR-配置"><a href="#⚙️-SSR-配置" class="headerlink" title="⚙️ SSR 配置"></a><strong>⚙️ SSR 配置</strong></h3><ul>
<li><input disabled="" type="checkbox"> <code>main.server.ts</code> 使用 <code>app.config.server.ts</code></li>
<li><input disabled="" type="checkbox"> Server config 中有 <code>TRANSLOCO_LOADER</code> provider</li>
<li><input disabled="" type="checkbox"> <code>mergeApplicationConfig</code> 正確呼叫</li>
<li><input disabled="" type="checkbox"> SSR Loader 實現 <code>TranslocoLoader</code> 介面</li>
</ul>
<h3 id="🚀-運行時驗證"><a href="#🚀-運行時驗證" class="headerlink" title="🚀 運行時驗證"></a><strong>🚀 運行時驗證</strong></h3><ul>
<li><input disabled="" type="checkbox"> 建置時看到 SSR Transloco log</li>
<li><input disabled="" type="checkbox"> 語系檔案正確複製到 <code>dist/&#123;專案名稱&#125;/browser/assets/i18n/</code></li>
<li><input disabled="" type="checkbox"> 頁面顯示正確的翻譯內容</li>
<li><input disabled="" type="checkbox"> 語言切換功能正常</li>
</ul>
<h3 id="🐛-快速診斷"><a href="#🐛-快速診斷" class="headerlink" title="🐛 快速診斷"></a><strong>🐛 快速診斷</strong></h3><p>如果遇到問題，請依序檢查：</p>
<ol>
<li><strong>SSR Loader 是否被載入？</strong> → 建置時應該看到初始化 log</li>
<li><strong>專案名稱是否正確？</strong> → 檢查 SSR Loader 中的路徑</li>
<li><strong>語系檔案是否存在？</strong> → 檢查 <code>dist/&#123;專案名稱&#125;/browser/assets/i18n/</code></li>
<li><strong>配置是否合併？</strong> → 確認 <code>mergeApplicationConfig</code> 呼叫</li>
</ol>
<hr>
<h2 id="🎉-結語"><a href="#🎉-結語" class="headerlink" title="🎉 結語"></a>🎉 <strong>結語</strong></h2><p>本指南基於實際項目經驗，涵蓋了 Angular SSR + Transloco 配置的所有關鍵環節。按照這個指南操作，您應該能夠成功建立一個支援多語系的 SSR Angular 應用程式。</p>
<h3 id="🎯-關鍵成功要素"><a href="#🎯-關鍵成功要素" class="headerlink" title="🎯 關鍵成功要素"></a><strong>🎯 關鍵成功要素</strong></h3><ol>
<li><strong>正確的專案名稱替換</strong> - 確保所有 <code>your-project-name</code> 都替換為實際專案名稱</li>
<li><strong>完整的配置合併</strong> - 使用 <code>mergeApplicationConfig</code> 確保所有 providers 都被包含</li>
<li><strong>明確的檔案路徑</strong> - SSR Loader 使用正確的檔案系統路徑</li>
<li><strong>詳細的除錯資訊</strong> - 利用 log 輸出快速定位問題</li>
</ol>
<h3 id="🔧-故障排除原則"><a href="#🔧-故障排除原則" class="headerlink" title="🔧 故障排除原則"></a><strong>🔧 故障排除原則</strong></h3><p>如果遇到問題，請按照檢查清單逐項驗證，並參考常見問題解決方案。記住：</p>
<ul>
<li><strong>90% 的問題都出在配置架構上</strong>，只有 10% 是實現細節問題</li>
<li><strong>專案名稱不一致</strong>是最常見的陷阱</li>
<li><strong>SSR Loader 的 log 輸出</strong>是最佳的診斷工具</li>
</ul>
<p><strong>祝您配置順利！</strong> 🚀</p>
<h2 id="💡-SSR-Transloco-配置決策流程圖"><a href="#💡-SSR-Transloco-配置決策流程圖" class="headerlink" title="💡 SSR + Transloco 配置決策流程圖"></a>💡 SSR + Transloco 配置決策流程圖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">flowchart TD</span><br><span class="line">    A[開始 Angular SSR + Transloco 配置] --&gt; B&#123;是否為新專案?&#125;</span><br><span class="line">    </span><br><span class="line">    B --&gt;|是| C[安裝 Angular SSR]</span><br><span class="line">    B --&gt;|否| D[檢查現有 SSR 配置]</span><br><span class="line">    </span><br><span class="line">    C --&gt; E[安裝 Transloco]</span><br><span class="line">    D --&gt; E</span><br><span class="line">    </span><br><span class="line">    E --&gt; F[確認專案名稱]</span><br><span class="line">    F --&gt; G[替換所有 your-project-name]</span><br><span class="line">    </span><br><span class="line">    G --&gt; H[配置 angular.json assets]</span><br><span class="line">    H --&gt; I[建立語系檔案]</span><br><span class="line">    </span><br><span class="line">    I --&gt; J[配置瀏覽器端 Loader]</span><br><span class="line">    J --&gt; K[配置伺服器端 Loader]</span><br><span class="line">    </span><br><span class="line">    K --&gt; L[建立 app.config.server.ts]</span><br><span class="line">    L --&gt; M[修改 main.server.ts]</span><br><span class="line">    </span><br><span class="line">    M --&gt; N[測試建置]</span><br><span class="line">    N --&gt; O&#123;建置成功?&#125;</span><br><span class="line">    </span><br><span class="line">    O --&gt;|否| P[檢查錯誤訊息]</span><br><span class="line">    P --&gt; P1&#123;是 Token 錯誤?&#125;</span><br><span class="line">    P1 --&gt;|是| P2[檢查 server config 合併]</span><br><span class="line">    P1 --&gt;|否| P3[檢查專案名稱和路徑]</span><br><span class="line">    P2 --&gt; N</span><br><span class="line">    P3 --&gt; N</span><br><span class="line">    </span><br><span class="line">    O --&gt;|是| Q[測試 SSR 啟動]</span><br><span class="line">    Q --&gt; R&#123;SSR 啟動成功?&#125;</span><br><span class="line">    </span><br><span class="line">    R --&gt;|否| S[檢查 Loader 初始化]</span><br><span class="line">    S --&gt; T[查看 console log]</span><br><span class="line">    T --&gt; N</span><br><span class="line">    </span><br><span class="line">    R --&gt;|是| U[測試語言切換]</span><br><span class="line">    U --&gt; V&#123;翻譯顯示正確?&#125;</span><br><span class="line">    </span><br><span class="line">    V --&gt;|否| W[檢查語系檔案格式]</span><br><span class="line">    W --&gt; N</span><br><span class="line">    </span><br><span class="line">    V --&gt;|是| X[部署到生產環境]</span><br><span class="line">    X --&gt; Y[配置完成 ✅]</span><br></pre></td></tr></table></figure>

<h2 id="🎯-核心洞察總結"><a href="#🎯-核心洞察總結" class="headerlink" title="🎯 核心洞察總結"></a>🎯 核心洞察總結</h2><h3 id="🔍-架構設計關鍵決策"><a href="#🔍-架構設計關鍵決策" class="headerlink" title="🔍 架構設計關鍵決策"></a>🔍 架構設計關鍵決策</h3><ol>
<li><p><strong>雙重載入機制</strong></p>
<ul>
<li><strong>瀏覽器端</strong>：使用 HTTP 載入，支援動態語言切換</li>
<li><strong>伺服器端</strong>：使用檔案系統，確保 SSR 性能和穩定性</li>
<li><strong>配置隔離</strong>：兩端使用不同的 loader 避免衝突</li>
</ul>
</li>
<li><p><strong>專案名稱管理策略</strong></p>
<ul>
<li><strong>統一命名</strong>：所有配置檔案使用一致的專案名稱</li>
<li><strong>路徑正確性</strong>：SSR Loader 必須使用正確的建置輸出路徑</li>
<li><strong>驗證機制</strong>：透過 console log 確認載入狀態</li>
</ul>
</li>
<li><p><strong>錯誤處理與除錯</strong></p>
<ul>
<li><strong>Layer 化除錯</strong>：從配置 → 建置 → 運行逐層檢查</li>
<li><strong>關鍵 Log 點</strong>：Loader 初始化、檔案載入、語言切換</li>
<li><strong>常見陷阱</strong>：Token 注入失敗、路徑錯誤、配置合併問題</li>
</ul>
</li>
</ol>
<h3 id="🚨-避免的關鍵陷阱"><a href="#🚨-避免的關鍵陷阱" class="headerlink" title="🚨 避免的關鍵陷阱"></a>🚨 避免的關鍵陷阱</h3><ol>
<li><strong>專案名稱不一致</strong>：90% 的問題源於此，必須完整替換所有佔位符</li>
<li><strong>配置合併遺漏</strong>：忘記使用 <code>mergeApplicationConfig</code> 導致 providers 丟失</li>
<li><strong>Assets 配置缺失</strong>：忘記在 angular.json 中配置語系檔案路徑</li>
</ol>
<h3 id="📊-效能與維護性考量"><a href="#📊-效能與維護性考量" class="headerlink" title="📊 效能與維護性考量"></a>📊 效能與維護性考量</h3><ul>
<li><strong>SSR 首屏渲染</strong>：伺服器端載入減少 FOUC (Flash of Untranslated Content)</li>
<li><strong>Bundle 最佳化</strong>：語系檔案按需載入，減少初始 bundle 大小</li>
<li><strong>快取策略</strong>：瀏覽器端可實現語系檔案快取，提升體驗</li>
</ul>
<h2 id="🚀-進階應用策略"><a href="#🚀-進階應用策略" class="headerlink" title="🚀 進階應用策略"></a>🚀 進階應用策略</h2><h3 id="🎯-多語系-SEO-優化"><a href="#🎯-多語系-SEO-優化" class="headerlink" title="🎯 多語系 SEO 優化"></a>🎯 多語系 SEO 優化</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 針對不同語言的 SSR 路由配置</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">routes</span>: <span class="title class_">Routes</span> = [</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;&#x27;</span>, <span class="attr">redirectTo</span>: <span class="string">&#x27;/zh-tw&#x27;</span>, <span class="attr">pathMatch</span>: <span class="string">&#x27;full&#x27;</span> &#125;,</span><br><span class="line">  &#123; <span class="attr">path</span>: <span class="string">&#x27;:lang&#x27;</span>, <span class="attr">component</span>: <span class="title class_">AppComponent</span>, <span class="attr">children</span>: [</span><br><span class="line">    <span class="comment">// 子路由配置</span></span><br><span class="line">  ]&#125;,</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自動語言偵測和 SEO meta 標籤</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">configureSEOTransloco</span>(<span class="params"><span class="attr">lang</span>: <span class="built_in">string</span></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">provide</span>: <span class="variable constant_">TRANSLOCO_CONFIG</span>,</span><br><span class="line">    <span class="attr">useValue</span>: &#123;</span><br><span class="line">      <span class="attr">availableLangs</span>: [<span class="string">&#x27;en&#x27;</span>, <span class="string">&#x27;zh-tw&#x27;</span>],</span><br><span class="line">      <span class="attr">defaultLang</span>: lang,</span><br><span class="line">      <span class="attr">fallbackLang</span>: <span class="string">&#x27;zh-tw&#x27;</span>,</span><br><span class="line">      <span class="attr">reRenderOnLangChange</span>: <span class="literal">false</span>, <span class="comment">// SSR 模式下建議關閉</span></span><br><span class="line">      <span class="attr">prodMode</span>: environment.<span class="property">production</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="🔄-動態語系載入"><a href="#🔄-動態語系載入" class="headerlink" title="🔄 動態語系載入"></a>🔄 動態語系載入</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 實現語系檔案的動態載入和快取</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">DynamicTranslocoLoader</span> <span class="keyword">implements</span> <span class="title class_">TranslocoLoader</span> &#123;</span><br><span class="line">  <span class="keyword">private</span> cache = <span class="keyword">new</span> <span class="title class_">Map</span>&lt;<span class="built_in">string</span>, <span class="title class_">Translation</span>&gt;();</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">getTranslation</span>(<span class="attr">lang</span>: <span class="built_in">string</span>): <span class="title class_">Observable</span>&lt;<span class="title class_">Translation</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">has</span>(lang)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title function_">of</span>(<span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">get</span>(lang)!);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="property">get</span>&lt;<span class="title class_">Translation</span>&gt;(<span class="string">`/api/i18n/<span class="subst">$&#123;lang&#125;</span>`</span>).<span class="title function_">pipe</span>(</span><br><span class="line">      <span class="title function_">tap</span>(<span class="function"><span class="params">translation</span> =&gt;</span> <span class="variable language_">this</span>.<span class="property">cache</span>.<span class="title function_">set</span>(lang, translation)),</span><br><span class="line">      <span class="title function_">catchError</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">getFallbackTranslation</span>(lang))</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="📞-技術支援與參考資源"><a href="#📞-技術支援與參考資源" class="headerlink" title="📞 技術支援與參考資源"></a>📞 技術支援與參考資源</h2><h3 id="🛠️-除錯工具"><a href="#🛠️-除錯工具" class="headerlink" title="🛠️ 除錯工具"></a>🛠️ 除錯工具</h3><ul>
<li><strong>Angular DevTools</strong>：檢查 Transloco 服務狀態和語系載入</li>
<li><strong>Network Tab</strong>：監控語系檔案的 HTTP 請求</li>
<li><strong>Console Log</strong>：利用 SSR Loader 的詳細日誌進行診斷</li>
</ul>
<h3 id="📚-官方文件"><a href="#📚-官方文件" class="headerlink" title="📚 官方文件"></a>📚 官方文件</h3><ul>
<li><strong><a target="_blank" rel="noopener" href="https://ngneat.github.io/transloco/">Transloco 官方文檔</a></strong>：完整的 API 和配置指南</li>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/ssr">Angular SSR Guide</a></strong>：伺服器端渲染官方指南</li>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/i18n">Angular i18n</a></strong>：官方國際化解決方案比較</li>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/angular/universal">Angular Universal</a></strong>：Universal 相關技術文檔</li>
</ul>
<h3 id="🌐-社群資源"><a href="#🌐-社群資源" class="headerlink" title="🌐 社群資源"></a>🌐 社群資源</h3><ul>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/ngneat/transloco">Transloco GitHub</a></strong>：最新版本和 issue 追蹤</li>
<li><strong><a target="_blank" rel="noopener" href="https://community.angular.io/">Angular Community</a></strong>：社群討論和最佳實踐</li>
<li><strong><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/tagged/transloco">Stack Overflow</a></strong>：常見問題和解決方案</li>
</ul>
<hr>
<p><strong>作者</strong>：技術團隊<br><strong>版本</strong>：v1.0<br><strong>最後更新</strong>：2025-01-31<br><strong>文件狀態</strong>：✅ 已完成</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://cookieseventeen.github.io/2025/06/29/angular-ssr-transloco-setup-complete-guide/" data-id="cmg51hsz700025tmz915e2rd9" data-title="Angular SSR + Transloco 國際化配置實戰指南" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular-19/" rel="tag">Angular 19+</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular-Universal/" rel="tag">Angular Universal</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Internationalization/" rel="tag">Internationalization</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Multi-language/" rel="tag">Multi-language</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Production-Deployment/" rel="tag">Production Deployment</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/SSR-Configuration/" rel="tag">SSR Configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Server-Side-Rendering/" rel="tag">Server-Side Rendering</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Transloco/" rel="tag">Transloco</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/i18n/" rel="tag">i18n</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/jsverse-transloco/" rel="tag">jsverse&#x2F;transloco</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/06/29/angular-ssr-transloco-troubleshooting-guide/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Angular SSR + Transloco 故障排除與除錯完整指南
        
      </div>
    </a>
  
  
    <a href="/2025/06/29/angular-httpclient-modern-configuration-guide/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Angular HttpClient 現代化配置與 withInterceptorsFromDI 實戰指南</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分類</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Tech-Daily/">Tech Daily</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARM/" rel="tag">ARM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-15/" rel="tag">Angular 15+</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-19/" rel="tag">Angular 19</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-19/" rel="tag">Angular 19+</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-Configuration/" rel="tag">Angular Configuration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-SSR/" rel="tag">Angular SSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-Universal/" rel="tag">Angular Universal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Animation-Loop/" rel="tag">Animation Loop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Best-Practices/" rel="tag">Best Practices</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Buildx/" rel="tag">Buildx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-CD/" rel="tag">CI&#x2F;CD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/" rel="tag">Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clean-Architecture/" rel="tag">Clean Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clustering/" rel="tag">Clustering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Code-Quality/" rel="tag">Code Quality</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Composables/" rel="tag">Composables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Composition-API/" rel="tag">Composition API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Creative-Coding/" rel="tag">Creative Coding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Visualization/" rel="tag">Data Visualization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debugging/" rel="tag">Debugging</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dependency-Injection/" rel="tag">Dependency Injection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Patterns/" rel="tag">Design Patterns</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Developer-Experience/" rel="tag">Developer Experience</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Device-Pixel-Ratio/" rel="tag">Device Pixel Ratio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESLint-9-x/" rel="tag">ESLint 9.x</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Enterprise-Architecture/" rel="tag">Enterprise Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Error-Handling/" rel="tag">Error Handling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Feature-Modules/" rel="tag">Feature Modules</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flat-Config/" rel="tag">Flat Config</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Architecture/" rel="tag">Frontend Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Initialization/" rel="tag">Frontend Initialization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Tooling/" rel="tag">Frontend Tooling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GeoJSON/" rel="tag">GeoJSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Global-Properties/" rel="tag">Global Properties</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5-Canvas/" rel="tag">HTML5 Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP-Interceptors/" rel="tag">HTTP Interceptors</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HttpClient/" rel="tag">HttpClient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hydration/" rel="tag">Hydration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interactive-Maps/" rel="tag">Interactive Maps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Internationalization/" rel="tag">Internationalization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linting-Rules/" rel="tag">Linting Rules</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mapbox/" rel="tag">Mapbox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mapbox-GL-JS/" rel="tag">Mapbox GL JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Migration-Guide/" rel="tag">Migration Guide</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Multi-language/" rel="tag">Multi-language</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Multi-platform/" rel="tag">Multi-platform</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Naming-Convention/" rel="tag">Naming Convention</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NullInjectorError/" rel="tag">NullInjectorError</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Offline-Deployment/" rel="tag">Offline Deployment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Performance-Optimization/" rel="tag">Performance Optimization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pinia/" rel="tag">Pinia</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prerender/" rel="tag">Prerender</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PrimeNG/" rel="tag">PrimeNG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Procedural-Animation/" rel="tag">Procedural Animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Production-Deployment/" rel="tag">Production Deployment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Production-Issues/" rel="tag">Production Issues</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Project-Architecture/" rel="tag">Project Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Project-Setup/" rel="tag">Project Setup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RenderMode/" rel="tag">RenderMode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Route-Guards/" rel="tag">Route Guards</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/" rel="tag">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR/" rel="tag">SSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR-Configuration/" rel="tag">SSR Configuration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server-Side-Rendering/" rel="tag">Server-Side Rendering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Service-Pattern/" rel="tag">Service Pattern</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Signals/" rel="tag">Signals</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Simplex-Noise/" rel="tag">Simplex Noise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Standalone-Components/" rel="tag">Standalone Components</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/State-Management/" rel="tag">State Management</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tailwind-CSS/" rel="tag">Tailwind CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Transloco/" rel="tag">Transloco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Troubleshooting/" rel="tag">Troubleshooting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/USGS-Data/" rel="tag">USGS Data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visualization/" rel="tag">Visualization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-js/" rel="tag">Vue.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web-Mapping/" rel="tag">Web Mapping</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i18n/" rel="tag">i18n</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i18n-Debug/" rel="tag">i18n Debug</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsverse-transloco/" rel="tag">jsverse&#x2F;transloco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/provideHttpClient/" rel="tag">provideHttpClient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/withInterceptorsFromDI/" rel="tag">withInterceptorsFromDI</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤雲</h3>
    <div class="widget tagcloud">
      <a href="/tags/ARM/" style="font-size: 10px;">ARM</a> <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/Angular-15/" style="font-size: 10px;">Angular 15+</a> <a href="/tags/Angular-19/" style="font-size: 16.67px;">Angular 19</a> <a href="/tags/Angular-19/" style="font-size: 10px;">Angular 19+</a> <a href="/tags/Angular-Configuration/" style="font-size: 10px;">Angular Configuration</a> <a href="/tags/Angular-SSR/" style="font-size: 10px;">Angular SSR</a> <a href="/tags/Angular-Universal/" style="font-size: 20px;">Angular Universal</a> <a href="/tags/Animation-Loop/" style="font-size: 10px;">Animation Loop</a> <a href="/tags/Best-Practices/" style="font-size: 10px;">Best Practices</a> <a href="/tags/Buildx/" style="font-size: 10px;">Buildx</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/Canvas/" style="font-size: 10px;">Canvas</a> <a href="/tags/Clean-Architecture/" style="font-size: 10px;">Clean Architecture</a> <a href="/tags/Clustering/" style="font-size: 10px;">Clustering</a> <a href="/tags/Code-Quality/" style="font-size: 10px;">Code Quality</a> <a href="/tags/Composables/" style="font-size: 10px;">Composables</a> <a href="/tags/Composition-API/" style="font-size: 10px;">Composition API</a> <a href="/tags/Creative-Coding/" style="font-size: 10px;">Creative Coding</a> <a href="/tags/Data-Visualization/" style="font-size: 10px;">Data Visualization</a> <a href="/tags/Debugging/" style="font-size: 10px;">Debugging</a> <a href="/tags/Dependency-Injection/" style="font-size: 10px;">Dependency Injection</a> <a href="/tags/Design-Patterns/" style="font-size: 10px;">Design Patterns</a> <a href="/tags/Developer-Experience/" style="font-size: 10px;">Developer Experience</a> <a href="/tags/Device-Pixel-Ratio/" style="font-size: 10px;">Device Pixel Ratio</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/ESLint-9-x/" style="font-size: 10px;">ESLint 9.x</a> <a href="/tags/Enterprise-Architecture/" style="font-size: 10px;">Enterprise Architecture</a> <a href="/tags/Error-Handling/" style="font-size: 13.33px;">Error Handling</a> <a href="/tags/Feature-Modules/" style="font-size: 10px;">Feature Modules</a> <a href="/tags/Flat-Config/" style="font-size: 10px;">Flat Config</a> <a href="/tags/Frontend-Architecture/" style="font-size: 10px;">Frontend Architecture</a> <a href="/tags/Frontend-Initialization/" style="font-size: 10px;">Frontend Initialization</a> <a href="/tags/Frontend-Tooling/" style="font-size: 10px;">Frontend Tooling</a> <a href="/tags/GeoJSON/" style="font-size: 10px;">GeoJSON</a> <a href="/tags/Global-Properties/" style="font-size: 10px;">Global Properties</a> <a href="/tags/HTML5-Canvas/" style="font-size: 10px;">HTML5 Canvas</a> <a href="/tags/HTTP-Interceptors/" style="font-size: 10px;">HTTP Interceptors</a> <a href="/tags/HttpClient/" style="font-size: 10px;">HttpClient</a> <a href="/tags/Hydration/" style="font-size: 13.33px;">Hydration</a> <a href="/tags/Interactive-Maps/" style="font-size: 10px;">Interactive Maps</a> <a href="/tags/Internationalization/" style="font-size: 10px;">Internationalization</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/Linting-Rules/" style="font-size: 10px;">Linting Rules</a> <a href="/tags/Mapbox/" style="font-size: 10px;">Mapbox</a> <a href="/tags/Mapbox-GL-JS/" style="font-size: 10px;">Mapbox GL JS</a> <a href="/tags/Migration-Guide/" style="font-size: 10px;">Migration Guide</a> <a href="/tags/Multi-language/" style="font-size: 10px;">Multi-language</a> <a href="/tags/Multi-platform/" style="font-size: 10px;">Multi-platform</a> <a href="/tags/Naming-Convention/" style="font-size: 10px;">Naming Convention</a> <a href="/tags/NullInjectorError/" style="font-size: 10px;">NullInjectorError</a> <a href="/tags/Offline-Deployment/" style="font-size: 10px;">Offline Deployment</a> <a href="/tags/Performance-Optimization/" style="font-size: 16.67px;">Performance Optimization</a> <a href="/tags/Pinia/" style="font-size: 10px;">Pinia</a> <a href="/tags/Prerender/" style="font-size: 13.33px;">Prerender</a> <a href="/tags/PrimeNG/" style="font-size: 10px;">PrimeNG</a> <a href="/tags/Procedural-Animation/" style="font-size: 10px;">Procedural Animation</a> <a href="/tags/Production-Deployment/" style="font-size: 10px;">Production Deployment</a> <a href="/tags/Production-Issues/" style="font-size: 10px;">Production Issues</a> <a href="/tags/Project-Architecture/" style="font-size: 10px;">Project Architecture</a> <a href="/tags/Project-Setup/" style="font-size: 10px;">Project Setup</a> <a href="/tags/RenderMode/" style="font-size: 13.33px;">RenderMode</a> <a href="/tags/Route-Guards/" style="font-size: 13.33px;">Route Guards</a> <a href="/tags/SEO/" style="font-size: 13.33px;">SEO</a> <a href="/tags/SSR/" style="font-size: 16.67px;">SSR</a> <a href="/tags/SSR-Configuration/" style="font-size: 13.33px;">SSR Configuration</a> <a href="/tags/Server-Side-Rendering/" style="font-size: 16.67px;">Server-Side Rendering</a> <a href="/tags/Service-Pattern/" style="font-size: 10px;">Service Pattern</a> <a href="/tags/Signals/" style="font-size: 10px;">Signals</a> <a href="/tags/Simplex-Noise/" style="font-size: 10px;">Simplex Noise</a> <a href="/tags/Standalone-Components/" style="font-size: 13.33px;">Standalone Components</a> <a href="/tags/State-Management/" style="font-size: 10px;">State Management</a> <a href="/tags/Tailwind-CSS/" style="font-size: 10px;">Tailwind CSS</a> <a href="/tags/Transloco/" style="font-size: 16.67px;">Transloco</a> <a href="/tags/Troubleshooting/" style="font-size: 10px;">Troubleshooting</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/USGS-Data/" style="font-size: 10px;">USGS Data</a> <a href="/tags/Visualization/" style="font-size: 10px;">Visualization</a> <a href="/tags/Vue-js/" style="font-size: 10px;">Vue.js</a> <a href="/tags/Web-Mapping/" style="font-size: 10px;">Web Mapping</a> <a href="/tags/i18n/" style="font-size: 10px;">i18n</a> <a href="/tags/i18n-Debug/" style="font-size: 10px;">i18n Debug</a> <a href="/tags/jsverse-transloco/" style="font-size: 10px;">jsverse/transloco</a> <a href="/tags/provideHttpClient/" style="font-size: 10px;">provideHttpClient</a> <a href="/tags/withInterceptorsFromDI/" style="font-size: 10px;">withInterceptorsFromDI</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">彙整</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">九月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">六月 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/09/29/canvas-simplex-noise-wave-animation-guide/">Canvas + Simplex Noise 動態擬真波浪實作指南</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-enterprise-project-initialization-guide/">Angular 19 企業級前端專案初始化完整指南</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-ssr-transloco-troubleshooting-guide/">Angular SSR + Transloco 故障排除與除錯完整指南</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-ssr-transloco-setup-complete-guide/">Angular SSR + Transloco 國際化配置實戰指南</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-httpclient-modern-configuration-guide/">Angular HttpClient 現代化配置與 withInterceptorsFromDI 實戰指南</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Ben Hsieh<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>