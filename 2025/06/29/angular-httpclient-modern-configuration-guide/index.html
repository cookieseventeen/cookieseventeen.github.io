<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Angular HttpClient 現代化配置與 withInterceptorsFromDI 實戰指南 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="深入探討 Angular 15+ 的 provideHttpClient() 現代化配置，詳細說明 withInterceptorsFromDI() 的使用場景和最佳實踐，包含完整的遷移策略和實戰範例。">
<meta property="og:type" content="article">
<meta property="og:title" content="Angular HttpClient 現代化配置與 withInterceptorsFromDI 實戰指南">
<meta property="og:url" content="https://cookieseventeen.github.io/2025/06/29/angular-httpclient-modern-configuration-guide/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="深入探討 Angular 15+ 的 provideHttpClient() 現代化配置，詳細說明 withInterceptorsFromDI() 的使用場景和最佳實踐，包含完整的遷移策略和實戰範例。">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2025-06-29T07:00:00.000Z">
<meta property="article:modified_time" content="2025-07-13T12:45:07.775Z">
<meta property="article:author" content="Ben Hsieh">
<meta property="article:tag" content="Standalone Components">
<meta property="article:tag" content="Angular 15+">
<meta property="article:tag" content="HttpClient">
<meta property="article:tag" content="provideHttpClient">
<meta property="article:tag" content="withInterceptorsFromDI">
<meta property="article:tag" content="Dependency Injection">
<meta property="article:tag" content="HTTP Interceptors">
<meta property="article:tag" content="Transloco">
<meta property="article:tag" content="Angular Configuration">
<meta property="article:tag" content="Migration Guide">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">任何一件事做到極致都值得敬佩</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="搜尋"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜尋"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://cookieseventeen.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-angular-httpclient-modern-configuration-guide" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/29/angular-httpclient-modern-configuration-guide/" class="article-date">
  <time class="dt-published" datetime="2025-06-29T07:00:00.000Z" itemprop="datePublished">2025-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech-Daily/">Tech Daily</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Angular HttpClient 現代化配置與 withInterceptorsFromDI 實戰指南
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="📋-核心懶人包"><a href="#📋-核心懶人包" class="headerlink" title="📋 核心懶人包"></a>📋 核心懶人包</h2><ol>
<li><strong>provideHttpClient() 革命</strong>：Angular 15+ 新式配置取代 HttpClientModule，更小 bundle、更靈活</li>
<li><strong>withInterceptorsFromDI() 關鍵</strong>：向後兼容舊式 HTTP_INTERCEPTORS，支援第三方庫漸進式遷移</li>
<li><strong>配置策略</strong>：新舊 interceptors 可混合使用，滿足不同場景需求</li>
<li><strong>Transloco 整合</strong>：完美支援國際化庫的 HTTP 載入需求</li>
<li><strong>最佳實踐</strong>：優先使用新式函數 interceptors，保留 DI 支援作為向後兼容</li>
</ol>
<h2 id="🏗️-專案概述"><a href="#🏗️-專案概述" class="headerlink" title="🏗️ 專案概述"></a>🏗️ 專案概述</h2><p>本文詳細說明 Angular 15+ 中 <code>provideHttpClient()</code> 的使用方式，特別是 <code>withInterceptorsFromDI()</code> 配置選項的作用和最佳實踐：</p>
<ul>
<li>⚡ <strong>現代化配置</strong>：從 HttpClientModule 遷移到 provideHttpClient() 的完整指南</li>
<li>🔄 <strong>向後兼容策略</strong>：withInterceptorsFromDI() 支援既有 interceptors 和第三方庫</li>
<li>🌍 <strong>Transloco 整合</strong>：國際化庫的 HTTP 載入配置實戰</li>
<li>📊 <strong>效能優化</strong>：Tree-shakable 配置減少 bundle 大小</li>
<li>🛠️ <strong>實戰範例</strong>：前端專案的真實配置案例</li>
</ul>
<h2 id="🏗️-Angular-HttpClient-配置演進架構"><a href="#🏗️-Angular-HttpClient-配置演進架構" class="headerlink" title="🏗️ Angular HttpClient 配置演進架構"></a>🏗️ Angular HttpClient 配置演進架構</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[Angular HttpClient 配置] --&gt; B[傳統方式 Angular 14-]</span><br><span class="line">    A --&gt; C[現代方式 Angular 15+]</span><br><span class="line">    </span><br><span class="line">    B --&gt; B1[HttpClientModule]</span><br><span class="line">    B --&gt; B2[HTTP_INTERCEPTORS Token]</span><br><span class="line">    B --&gt; B3[較大 Bundle 大小]</span><br><span class="line">    </span><br><span class="line">    C --&gt; C1[provideHttpClient]</span><br><span class="line">    C --&gt; C2[函數式配置]</span><br><span class="line">    C --&gt; C3[Tree-shakable]</span><br><span class="line">    </span><br><span class="line">    C1 --&gt; D[配置選項]</span><br><span class="line">    D --&gt; D1[withInterceptors]</span><br><span class="line">    D --&gt; D2[withInterceptorsFromDI]</span><br><span class="line">    D --&gt; D3[withFetch]</span><br><span class="line">    D --&gt; D4[withRequestsMadeViaParent]</span><br><span class="line">    </span><br><span class="line">    D1 --&gt; E[新式函數 Interceptors]</span><br><span class="line">    D2 --&gt; F[相容舊式 DI Interceptors]</span><br><span class="line">    </span><br><span class="line">    E --&gt; G[推薦使用]</span><br><span class="line">    F --&gt; H[向後兼容]</span><br><span class="line">    </span><br><span class="line">    G --&gt; I[更好的 TypeScript 支援]</span><br><span class="line">    H --&gt; I</span><br><span class="line">    I --&gt; J[最佳化開發體驗]</span><br></pre></td></tr></table></figure>

<h1 id="Angular-HttpClient-現代化配置指南"><a href="#Angular-HttpClient-現代化配置指南" class="headerlink" title="Angular HttpClient 現代化配置指南"></a>Angular HttpClient 現代化配置指南</h1><h2 id="📋-概述"><a href="#📋-概述" class="headerlink" title="📋 概述"></a>📋 概述</h2><p>本文檔詳細說明 Angular 15+ 中 <code>provideHttpClient()</code> 的使用方式，特別是 <code>withInterceptorsFromDi()</code> 配置選項的作用和最佳實踐。</p>
<h2 id="🏗️-基本概念"><a href="#🏗️-基本概念" class="headerlink" title="🏗️ 基本概念"></a>🏗️ 基本概念</h2><h3 id="provideHttpClient"><a href="#provideHttpClient" class="headerlink" title="provideHttpClient()"></a>provideHttpClient()</h3><p>Angular 15+ 引入的新式 HTTP 客戶端配置方式，取代傳統的 <code>HttpClientModule</code>。</p>
<p><strong>特點：</strong></p>
<ul>
<li>函數式配置</li>
<li>Tree-shakable（更小的 bundle 大小）</li>
<li>更靈活的功能組合</li>
<li>更好的 TypeScript 支援</li>
</ul>
<h3 id="withInterceptorsFromDI"><a href="#withInterceptorsFromDI" class="headerlink" title="withInterceptorsFromDI()"></a>withInterceptorsFromDI()</h3><p>啟用基於依賴注入（DI）的 HTTP Interceptors 支援。</p>
<p><strong>用途：</strong></p>
<ul>
<li>向後兼容舊式 <code>HTTP_INTERCEPTORS</code> token</li>
<li>支援第三方庫的 interceptors</li>
<li>漸進式遷移策略</li>
</ul>
<h2 id="🔄-新舊對比"><a href="#🔄-新舊對比" class="headerlink" title="🔄 新舊對比"></a>🔄 新舊對比</h2><h3 id="舊方式（Angular-14-以前）"><a href="#舊方式（Angular-14-以前）" class="headerlink" title="舊方式（Angular 14 以前）"></a>舊方式（Angular 14 以前）</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.module.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpClientModule</span>, <span class="variable constant_">HTTP_INTERCEPTORS</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AuthInterceptor</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./interceptors/auth.interceptor&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">    <span class="attr">imports</span>: [</span><br><span class="line">        <span class="title class_">HttpClientModule</span>, <span class="comment">// 匯入整個模組</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="comment">// 註冊 interceptors</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">HTTP_INTERCEPTORS</span>,</span><br><span class="line">            <span class="attr">useClass</span>: <span class="title class_">AuthInterceptor</span>,</span><br><span class="line">            <span class="attr">multi</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="新方式（Angular-15-）"><a href="#新方式（Angular-15-）" class="headerlink" title="新方式（Angular 15+）"></a>新方式（Angular 15+）</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ApplicationConfig</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    provideHttpClient,</span><br><span class="line">    withInterceptors,</span><br><span class="line">    withInterceptorsFromDi,</span><br><span class="line">    <span class="variable constant_">HTTP_INTERCEPTORS</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="comment">// 方式1：新式函數 interceptors（推薦）</span></span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([authInterceptor, loggingInterceptor])),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 方式2：相容舊式 DI interceptors</span></span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>()),</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">HTTP_INTERCEPTORS</span>,</span><br><span class="line">            <span class="attr">useClass</span>: <span class="title class_">AuthInterceptor</span>,</span><br><span class="line">            <span class="attr">multi</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="⚙️-配置選項詳解"><a href="#⚙️-配置選項詳解" class="headerlink" title="⚙️ 配置選項詳解"></a>⚙️ 配置選項詳解</h2><h3 id="1-基本配置"><a href="#1-基本配置" class="headerlink" title="1. 基本配置"></a>1. 基本配置</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 最簡單的配置 - 只提供 HttpClient 服務</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>();</span><br></pre></td></tr></table></figure>

<h3 id="2-支援-DI-Interceptors"><a href="#2-支援-DI-Interceptors" class="headerlink" title="2. 支援 DI Interceptors"></a>2. 支援 DI Interceptors</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 支援傳統的依賴注入 interceptors</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>());</span><br></pre></td></tr></table></figure>

<h3 id="3-新式函數-Interceptors"><a href="#3-新式函數-Interceptors" class="headerlink" title="3. 新式函數 Interceptors"></a>3. 新式函數 Interceptors</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用新的函數式 interceptors</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptors</span>([authInterceptor, loggingInterceptor, errorHandlingInterceptor])</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="4-混合配置"><a href="#4-混合配置" class="headerlink" title="4. 混合配置"></a>4. 混合配置</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 同時支援新舊兩種方式</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptors</span>([newStyleInterceptor]),</span><br><span class="line">    <span class="title function_">withInterceptorsFromDi</span>(),</span><br><span class="line">    <span class="title function_">withFetch</span>(), <span class="comment">// 使用 Fetch API</span></span><br><span class="line">    <span class="title function_">withRequestsMadeViaParent</span>() <span class="comment">// SSR 支援</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="🎯-實際範例"><a href="#🎯-實際範例" class="headerlink" title="🎯 實際範例"></a>🎯 實際範例</h2><h3 id="前端專案配置範例"><a href="#前端專案配置範例" class="headerlink" title="前端專案配置範例"></a>前端專案配置範例</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/app.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ApplicationConfig</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideHttpClient, withInterceptorsFromDi &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideTransloco &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">TranslocoHttpLoader</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./core/services/transloco.config&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; environment &#125; <span class="keyword">from</span> <span class="string">&#x27;../environments/environment&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="comment">// HTTP 客戶端配置 - 支援 DI interceptors</span></span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>()),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Transloco 國際化配置</span></span><br><span class="line">        <span class="title function_">provideTransloco</span>(&#123;</span><br><span class="line">            <span class="attr">config</span>: &#123;</span><br><span class="line">                <span class="attr">availableLangs</span>: [<span class="string">&#x27;en&#x27;</span>, <span class="string">&#x27;zh-tw&#x27;</span>],</span><br><span class="line">                <span class="attr">defaultLang</span>: <span class="string">&#x27;zh-tw&#x27;</span>,</span><br><span class="line">                <span class="attr">fallbackLang</span>: <span class="string">&#x27;zh-tw&#x27;</span>,</span><br><span class="line">                <span class="attr">reRenderOnLangChange</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">prodMode</span>: environment.<span class="property">production</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">loader</span>: <span class="title class_">TranslocoHttpLoader</span>, <span class="comment">// 依賴 HttpClient</span></span><br><span class="line">        &#125;),</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="TranslocoHttpLoader-使用範例"><a href="#TranslocoHttpLoader-使用範例" class="headerlink" title="TranslocoHttpLoader 使用範例"></a>TranslocoHttpLoader 使用範例</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/core/services/transloco.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpClient</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Injectable</span>, inject &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Translation</span>, <span class="title class_">TranslocoLoader</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Observable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;rxjs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>(&#123; <span class="attr">providedIn</span>: <span class="string">&#x27;root&#x27;</span> &#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">TranslocoHttpLoader</span> <span class="keyword">implements</span> <span class="title class_">TranslocoLoader</span> &#123;</span><br><span class="line">    <span class="comment">// 使用 inject() 函數注入 HttpClient</span></span><br><span class="line">    <span class="keyword">private</span> http = <span class="title function_">inject</span>(<span class="title class_">HttpClient</span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getTranslation</span>(<span class="attr">lang</span>: <span class="built_in">string</span>): <span class="title class_">Observable</span>&lt;<span class="title class_">Translation</span>&gt; &#123;</span><br><span class="line">        <span class="comment">// 載入翻譯檔案 - 需要 HttpClient 支援</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="property">get</span>&lt;<span class="title class_">Translation</span>&gt;(<span class="string">`/assets/i18n/<span class="subst">$&#123;lang&#125;</span>.json`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="添加-Interceptors-範例"><a href="#添加-Interceptors-範例" class="headerlink" title="添加 Interceptors 範例"></a>添加 Interceptors 範例</h3><h4 id="新式函數-Interceptor"><a href="#新式函數-Interceptor" class="headerlink" title="新式函數 Interceptor"></a>新式函數 Interceptor</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/core/interceptors/auth.interceptor.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpInterceptorFn</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; inject &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AuthService</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../services/auth.service&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">authInterceptor</span>: <span class="title class_">HttpInterceptorFn</span> = <span class="function">(<span class="params">req, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> authService = <span class="title function_">inject</span>(<span class="title class_">AuthService</span>);</span><br><span class="line">    <span class="keyword">const</span> token = authService.<span class="title function_">getToken</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">        <span class="keyword">const</span> authReq = req.<span class="title function_">clone</span>(&#123;</span><br><span class="line">            <span class="attr">setHeaders</span>: &#123;</span><br><span class="line">                <span class="title class_">Authorization</span>: <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">next</span>(authReq);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">next</span>(req);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.config.ts</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([authInterceptor]));</span><br></pre></td></tr></table></figure>

<h4 id="舊式類別-Interceptor"><a href="#舊式類別-Interceptor" class="headerlink" title="舊式類別 Interceptor"></a>舊式類別 Interceptor</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/core/interceptors/legacy-auth.interceptor.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Injectable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpInterceptor</span>, <span class="title class_">HttpRequest</span>, <span class="title class_">HttpHandler</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">LegacyAuthInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HttpInterceptor</span> &#123;</span><br><span class="line">    <span class="title function_">intercept</span>(<span class="params"><span class="attr">req</span>: <span class="title class_">HttpRequest</span>&lt;<span class="built_in">any</span>&gt;, <span class="attr">next</span>: <span class="title class_">HttpHandler</span></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> token = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (token) &#123;</span><br><span class="line">            <span class="keyword">const</span> authReq = req.<span class="title function_">clone</span>(&#123;</span><br><span class="line">                <span class="attr">setHeaders</span>: &#123;</span><br><span class="line">                    <span class="title class_">Authorization</span>: <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">return</span> next.<span class="title function_">handle</span>(authReq);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> next.<span class="title function_">handle</span>(req);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.config.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>()),</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">HTTP_INTERCEPTORS</span>,</span><br><span class="line">            <span class="attr">useClass</span>: <span class="title class_">LegacyAuthInterceptor</span>,</span><br><span class="line">            <span class="attr">multi</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="🚀-最佳實踐"><a href="#🚀-最佳實踐" class="headerlink" title="🚀 最佳實踐"></a>🚀 最佳實踐</h2><h3 id="1-選擇適當的配置方式"><a href="#1-選擇適當的配置方式" class="headerlink" title="1. 選擇適當的配置方式"></a>1. 選擇適當的配置方式</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ✅ 推薦：新專案使用新式 interceptors</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([authInterceptor, loggingInterceptor]));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ✅ 可接受：需要向後兼容時</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDI</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// ❌ 避免：不必要的複雜配置</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptors</span>([newInterceptor]),</span><br><span class="line">    <span class="title function_">withInterceptorsFromDI</span>() <span class="comment">// 同時使用兩種方式可能造成混淆</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="2-漸進式遷移策略"><a href="#2-漸進式遷移策略" class="headerlink" title="2. 漸進式遷移策略"></a>2. 漸進式遷移策略</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 階段1：添加 withInterceptorsFromDI 支援</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDI</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 階段2：逐步將 interceptors 改為函數式</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptors</span>([newAuthInterceptor]), <span class="comment">// 新的</span></span><br><span class="line">    <span class="title function_">withInterceptorsFromDI</span>() <span class="comment">// 保留舊的</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 階段3：完全遷移到新式</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([authInterceptor, loggingInterceptor, errorInterceptor]));</span><br></pre></td></tr></table></figure>

<h3 id="3-環境特定配置"><a href="#3-環境特定配置" class="headerlink" title="3. 環境特定配置"></a>3. 環境特定配置</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/config/http.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; environment &#125; <span class="keyword">from</span> <span class="string">&#x27;../../environments/environment&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getHttpClientConfig</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> interceptors = [authInterceptor];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 開發環境添加日誌 interceptor</span></span><br><span class="line">    <span class="keyword">if</span> (!environment.<span class="property">production</span>) &#123;</span><br><span class="line">        interceptors.<span class="title function_">push</span>(loggingInterceptor);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">provideHttpClient</span>(</span><br><span class="line">        <span class="title function_">withInterceptors</span>(interceptors),</span><br><span class="line">        <span class="title function_">withFetch</span>() <span class="comment">// 生產環境使用 Fetch API</span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.config.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="title function_">getHttpClientConfig</span>(),</span><br><span class="line">        <span class="comment">// ... 其他 providers</span></span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="⚠️-常見問題與解決方案"><a href="#⚠️-常見問題與解決方案" class="headerlink" title="⚠️ 常見問題與解決方案"></a>⚠️ 常見問題與解決方案</h2><h3 id="問題-1：Transloco-載入失敗"><a href="#問題-1：Transloco-載入失敗" class="headerlink" title="問題 1：Transloco 載入失敗"></a>問題 1：Transloco 載入失敗</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: NullInjectorError: No provider for HttpClient</span><br></pre></td></tr></table></figure>

<p><strong>解決方案：</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 確保有提供 HttpClient</span></span><br><span class="line"><span class="attr">providers</span>: [</span><br><span class="line">  <span class="title function_">provideHttpClient</span>(),  <span class="comment">// 或 withInterceptorsFromDI()</span></span><br><span class="line">  <span class="title function_">provideTransloco</span>(&#123;...&#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="問題-2：第三方庫-Interceptor-不起作用"><a href="#問題-2：第三方庫-Interceptor-不起作用" class="headerlink" title="問題 2：第三方庫 Interceptor 不起作用"></a>問題 2：第三方庫 Interceptor 不起作用</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ❌ 錯誤：只使用新式 interceptors</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([myInterceptor]));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ✅ 正確：添加 DI 支援</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([myInterceptor]), <span class="title function_">withInterceptorsFromDI</span>());</span><br></pre></td></tr></table></figure>

<h3 id="問題-3：SSR-環境下的問題"><a href="#問題-3：SSR-環境下的問題" class="headerlink" title="問題 3：SSR 環境下的問題"></a>問題 3：SSR 環境下的問題</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ✅ SSR 友好配置</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptorsFromDI</span>(),</span><br><span class="line">    <span class="title function_">withRequestsMadeViaParent</span>() <span class="comment">// SSR 支援</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="🔧-除錯技巧"><a href="#🔧-除錯技巧" class="headerlink" title="🔧 除錯技巧"></a>🔧 除錯技巧</h2><h3 id="1-檢查-HTTP-請求"><a href="#1-檢查-HTTP-請求" class="headerlink" title="1. 檢查 HTTP 請求"></a>1. 檢查 HTTP 請求</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加日誌 interceptor 進行除錯</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">loggingInterceptor</span>: <span class="title class_">HttpInterceptorFn</span> = <span class="function">(<span class="params">req, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HTTP Request:&#x27;</span>, req.<span class="property">url</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">next</span>(req).<span class="title function_">pipe</span>(<span class="title function_">tap</span>(<span class="function"><span class="params">response</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HTTP Response:&#x27;</span>, response)));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-驗證配置"><a href="#2-驗證配置" class="headerlink" title="2. 驗證配置"></a>2. 驗證配置</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在元件中檢查 HttpClient 是否可用</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">TestComponent</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> http = <span class="title function_">inject</span>(<span class="title class_">HttpClient</span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">ngOnInit</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HttpClient available:&#x27;</span>, !!<span class="variable language_">this</span>.<span class="property">http</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="📚-相關資源"><a href="#📚-相關資源" class="headerlink" title="📚 相關資源"></a>📚 相關資源</h2><ul>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/http">Angular HttpClient 官方文檔</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/http-interceptors">Interceptors 遷移指南</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/standalone-components">Standalone API 配置</a></li>
<li><a target="_blank" rel="noopener" href="https://ngneat.github.io/transloco/">Transloco 官方文檔</a></li>
</ul>
<h2 id="📝-總結"><a href="#📝-總結" class="headerlink" title="📝 總結"></a>📝 總結</h2><p><code>provideHttpClient(withInterceptorsFromDi())</code> 的核心作用：</p>
<ol>
<li><strong>現代化配置</strong>：使用新的函數式 API 配置 HTTP 客戶端</li>
<li><strong>向後兼容</strong>：支援傳統的 DI-based interceptors</li>
<li><strong>效能優化</strong>：Tree-shakable，減少 bundle 大小</li>
<li><strong>漸進式遷移</strong>：允許逐步從舊方式遷移到新方式</li>
</ol>
<p>在前端專案中，這個配置確保：</p>
<ul>
<li>✅ Transloco 能正常載入翻譯檔案</li>
<li>✅ 未來可以輕鬆添加認證、日誌等 interceptors</li>
<li>✅ 保持與 Angular 最新版本的兼容性</li>
<li>✅ 支援 SSR 和其他進階功能</li>
</ul>
<h2 id="💡-HttpClient-配置決策流程圖"><a href="#💡-HttpClient-配置決策流程圖" class="headerlink" title="💡 HttpClient 配置決策流程圖"></a>💡 HttpClient 配置決策流程圖</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">flowchart TD</span><br><span class="line">    A[選擇 HttpClient 配置方式] --&gt; B&#123;是否為新專案?&#125;</span><br><span class="line">    </span><br><span class="line">    B --&gt;|是| C[使用 provideHttpClient()]</span><br><span class="line">    B --&gt;|否| D&#123;是否需要相容既有 interceptors?&#125;</span><br><span class="line">    </span><br><span class="line">    D --&gt;|是| E[withInterceptorsFromDI]</span><br><span class="line">    D --&gt;|否| F[新式函數 interceptors]</span><br><span class="line">    </span><br><span class="line">    C --&gt; G&#123;需要第三方庫支援?&#125;</span><br><span class="line">    G --&gt;|是| H[添加 withInterceptorsFromDI]</span><br><span class="line">    G --&gt;|否| I[純新式配置]</span><br><span class="line">    </span><br><span class="line">    E --&gt; J[漸進式遷移策略]</span><br><span class="line">    F --&gt; K[現代化最佳實踐]</span><br><span class="line">    H --&gt; L[混合配置模式]</span><br><span class="line">    I --&gt; M[最佳效能配置]</span><br><span class="line">    </span><br><span class="line">    J --&gt; N&#123;遷移完成?&#125;</span><br><span class="line">    N --&gt;|否| O[保持混合模式]</span><br><span class="line">    N --&gt;|是| P[移除 DI 支援]</span><br><span class="line">    </span><br><span class="line">    K --&gt; Q[加入環境特定配置]</span><br><span class="line">    L --&gt; Q</span><br><span class="line">    M --&gt; Q</span><br><span class="line">    O --&gt; Q</span><br><span class="line">    P --&gt; Q</span><br><span class="line">    </span><br><span class="line">    Q --&gt; R[部署與監控]</span><br></pre></td></tr></table></figure>

<h2 id="🎯-核心洞察總結"><a href="#🎯-核心洞察總結" class="headerlink" title="🎯 核心洞察總結"></a>🎯 核心洞察總結</h2><h3 id="🔍-技術決策關鍵點"><a href="#🔍-技術決策關鍵點" class="headerlink" title="🔍 技術決策關鍵點"></a>🔍 技術決策關鍵點</h3><ol>
<li><p><strong>配置模式選擇</strong></p>
<ul>
<li><strong>新專案</strong>：優先使用 <code>withInterceptors([])</code> 新式函數配置</li>
<li><strong>既有專案</strong>：採用 <code>withInterceptorsFromDI()</code> 保持向後兼容</li>
<li><strong>混合專案</strong>：同時使用兩種模式，漸進式遷移</li>
</ul>
</li>
<li><p><strong>效能影響分析</strong></p>
<ul>
<li><strong>Bundle 大小</strong>：新式配置平均減少 15-20% HTTP 相關代碼</li>
<li><strong>Tree-shaking</strong>：未使用的 interceptor 功能會被自動移除</li>
<li><strong>運行時效能</strong>：函數式 interceptors 有更好的執行效率</li>
</ul>
</li>
<li><p><strong>維護性考量</strong></p>
<ul>
<li><strong>依賴管理</strong>：減少對 Module 系統的依賴</li>
<li><strong>測試友善</strong>：函數式配置更容易進行單元測試</li>
<li><strong>類型安全</strong>：更好的 TypeScript 推斷和錯誤檢查</li>
</ul>
</li>
</ol>
<h3 id="🚨-避免的常見陷阱"><a href="#🚨-避免的常見陷阱" class="headerlink" title="🚨 避免的常見陷阱"></a>🚨 避免的常見陷阱</h3><ol>
<li><strong>過度配置</strong>：不需要同時使用新舊兩種方式，除非有明確需求</li>
<li><strong>忽略第三方庫</strong>：使用 Transloco、Auth0 等庫時必須啟用 DI 支援</li>
<li><strong>SSR 兼容性</strong>：忘記配置 <code>withRequestsMadeViaParent()</code> 導致 SSR 問題</li>
</ol>
<h2 id="🚀-進階應用策略"><a href="#🚀-進階應用策略" class="headerlink" title="🚀 進階應用策略"></a>🚀 進階應用策略</h2><h3 id="🎯-企業級配置策略"><a href="#🎯-企業級配置策略" class="headerlink" title="🎯 企業級配置策略"></a>🎯 企業級配置策略</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 企業級 HttpClient 配置工廠</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">createEnterpriseHttpConfig</span>(<span class="params"><span class="attr">environment</span>: <span class="built_in">any</span></span>): <span class="title class_">Provider</span>[] &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">interceptors</span>: <span class="title class_">HttpInterceptorFn</span>[] = [</span><br><span class="line">        authTokenInterceptor,</span><br><span class="line">        correlationIdInterceptor,</span><br><span class="line">        retryInterceptor</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 開發環境添加除錯工具</span></span><br><span class="line">    <span class="keyword">if</span> (!environment.<span class="property">production</span>) &#123;</span><br><span class="line">        interceptors.<span class="title function_">push</span>(</span><br><span class="line">            requestLoggingInterceptor,</span><br><span class="line">            responseTimeInterceptor,</span><br><span class="line">            mockDataInterceptor</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        <span class="title function_">provideHttpClient</span>(</span><br><span class="line">            <span class="title function_">withInterceptors</span>(interceptors),</span><br><span class="line">            <span class="title function_">withInterceptorsFromDI</span>(), <span class="comment">// 支援第三方庫</span></span><br><span class="line">            <span class="title function_">withFetch</span>(), <span class="comment">// 現代化 HTTP 實現</span></span><br><span class="line">            <span class="title function_">withRequestsMadeViaParent</span>() <span class="comment">// SSR 支援</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">// 環境特定的 HTTP 配置</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">HTTP_CONFIG</span>,</span><br><span class="line">            <span class="attr">useValue</span>: &#123;</span><br><span class="line">                <span class="attr">timeout</span>: environment.<span class="property">httpTimeout</span>,</span><br><span class="line">                <span class="attr">retryAttempts</span>: environment.<span class="property">httpRetryAttempts</span>,</span><br><span class="line">                <span class="attr">baseUrl</span>: environment.<span class="property">apiBaseUrl</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="🔄-自動化遷移工具"><a href="#🔄-自動化遷移工具" class="headerlink" title="🔄 自動化遷移工具"></a>🔄 自動化遷移工具</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自動檢測並建議遷移的工具函數</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">analyzeHttpConfigMigration</span>(<span class="params"><span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> analysis = &#123;</span><br><span class="line">        <span class="attr">hasHttpClientModule</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">hasProvideHttpClient</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">needsDIMigration</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">recommendations</span>: []</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 分析現有配置</span></span><br><span class="line">    appConfig.<span class="property">providers</span>?.<span class="title function_">forEach</span>(<span class="function"><span class="params">provider</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isHttpClientModule</span>(provider)) &#123;</span><br><span class="line">            analysis.<span class="property">hasHttpClientModule</span> = <span class="literal">true</span>;</span><br><span class="line">            analysis.<span class="property">recommendations</span>.<span class="title function_">push</span>(<span class="string">&#x27;遷移到 provideHttpClient()&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isLegacyInterceptor</span>(provider)) &#123;</span><br><span class="line">            analysis.<span class="property">needsDIMigration</span> = <span class="literal">true</span>;</span><br><span class="line">            analysis.<span class="property">recommendations</span>.<span class="title function_">push</span>(<span class="string">&#x27;添加 withInterceptorsFromDI() 支援&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> analysis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="🧪-測試策略增強"><a href="#🧪-測試策略增強" class="headerlink" title="🧪 測試策略增強"></a>🧪 測試策略增強</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 針對 HttpClient 配置的測試工具</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">createHttpClientTestingConfig</span>(<span class="params"></span>): <span class="title class_">Provider</span>[] &#123;</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        <span class="title function_">provideHttpClient</span>(</span><br><span class="line">            <span class="title function_">withInterceptors</span>([</span><br><span class="line">                mockAuthInterceptor,</span><br><span class="line">                testLoggingInterceptor</span><br><span class="line">            ]),</span><br><span class="line">            <span class="title function_">withInterceptorsFromDI</span>()</span><br><span class="line">        ),</span><br><span class="line">        <span class="title function_">provideHttpClientTesting</span>(),</span><br><span class="line">        <span class="comment">// 測試專用的模擬數據提供者</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">TEST_HTTP_CONFIG</span>,</span><br><span class="line">            <span class="attr">useValue</span>: &#123;</span><br><span class="line">                <span class="attr">enableMocking</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">responseDelay</span>: <span class="number">100</span>,</span><br><span class="line">                <span class="attr">errorRate</span>: <span class="number">0.1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="📞-技術支援與參考資源"><a href="#📞-技術支援與參考資源" class="headerlink" title="📞 技術支援與參考資源"></a>📞 技術支援與參考資源</h2><h3 id="🛠️-開發工具"><a href="#🛠️-開發工具" class="headerlink" title="🛠️ 開發工具"></a>🛠️ 開發工具</h3><ul>
<li><strong>Angular DevTools</strong>：監控 HTTP 請求和 interceptors 執行</li>
<li><strong>Network Tab</strong>：檢查實際的 HTTP 請求和回應</li>
<li><strong>Angular CLI</strong>：<code>ng update</code> 自動化遷移輔助</li>
</ul>
<h3 id="📚-官方文件"><a href="#📚-官方文件" class="headerlink" title="📚 官方文件"></a>📚 官方文件</h3><ul>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/http">Angular HttpClient Guide</a></strong>：官方 HTTP 客戶端完整指南</li>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/http-interceptors">HTTP Interceptors</a></strong>：攔截器使用和配置</li>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/standalone-components#configuring-dependency-injection">Standalone Bootstrap</a></strong>：獨立組件配置指南</li>
<li><strong><a target="_blank" rel="noopener" href="https://update.angular.io/">Angular Update Guide</a></strong>：版本升級和遷移指南</li>
</ul>
<h3 id="🌐-社群資源"><a href="#🌐-社群資源" class="headerlink" title="🌐 社群資源"></a>🌐 社群資源</h3><ul>
<li><strong><a target="_blank" rel="noopener" href="https://blog.angular.io/">Angular Blog</a></strong>：官方技術部落格</li>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/angular/angular/discussions">GitHub Discussion</a></strong>：技術討論和問題解答</li>
<li><strong><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/tagged/angular-httpclient">Stack Overflow</a></strong>：常見問題和解決方案</li>
<li><strong><a target="_blank" rel="noopener" href="https://www.angularjp.org/">Angular Community</a></strong>：社群交流和最佳實踐分享</li>
</ul>
<h3 id="🔗-相關工具和庫"><a href="#🔗-相關工具和庫" class="headerlink" title="🔗 相關工具和庫"></a>🔗 相關工具和庫</h3><ul>
<li><strong><a target="_blank" rel="noopener" href="https://ngneat.github.io/transloco/">Transloco</a></strong>：國際化解決方案</li>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/service-worker-intro">Angular PWA</a></strong>：Progressive Web App 支援</li>
<li><strong><a target="_blank" rel="noopener" href="https://rxjs.dev/">RxJS</a></strong>：響應式程式設計工具</li>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/Zak-C/ngx-loading">NGX-Loading</a></strong>：HTTP 請求載入狀態管理</li>
</ul>
<hr>
<p><strong>作者</strong>：技術團隊<br><strong>版本</strong>：v1.0<br><strong>最後更新</strong>：2025-01-31<br><strong>文件狀態</strong>：✅ 已完成</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://cookieseventeen.github.io/2025/06/29/angular-httpclient-modern-configuration-guide/" data-id="cmg51zr620001ncmz2sn7gqol" data-title="Angular HttpClient 現代化配置與 withInterceptorsFromDI 實戰指南" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular-15/" rel="tag">Angular 15+</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular-Configuration/" rel="tag">Angular Configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dependency-Injection/" rel="tag">Dependency Injection</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP-Interceptors/" rel="tag">HTTP Interceptors</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HttpClient/" rel="tag">HttpClient</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Migration-Guide/" rel="tag">Migration Guide</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Standalone-Components/" rel="tag">Standalone Components</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Transloco/" rel="tag">Transloco</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/provideHttpClient/" rel="tag">provideHttpClient</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/withInterceptorsFromDI/" rel="tag">withInterceptorsFromDI</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/06/29/angular-ssr-transloco-setup-complete-guide/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Angular SSR + Transloco 國際化配置實戰指南
        
      </div>
    </a>
  
  
    <a href="/2025/06/29/eslint-configuration-best-practices-guide/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">ESLint 9.x 革命性配置與前端開發最佳化實戰指南</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分類</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Tech-Daily/">Tech Daily</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARM/" rel="tag">ARM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-15/" rel="tag">Angular 15+</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-19/" rel="tag">Angular 19</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-19/" rel="tag">Angular 19+</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-Configuration/" rel="tag">Angular Configuration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-SSR/" rel="tag">Angular SSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-Universal/" rel="tag">Angular Universal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Animation-Loop/" rel="tag">Animation Loop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Best-Practices/" rel="tag">Best Practices</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Buildx/" rel="tag">Buildx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-CD/" rel="tag">CI&#x2F;CD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/" rel="tag">Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clean-Architecture/" rel="tag">Clean Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clustering/" rel="tag">Clustering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Code-Quality/" rel="tag">Code Quality</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Composables/" rel="tag">Composables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Composition-API/" rel="tag">Composition API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Creative-Coding/" rel="tag">Creative Coding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Visualization/" rel="tag">Data Visualization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debugging/" rel="tag">Debugging</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dependency-Injection/" rel="tag">Dependency Injection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Patterns/" rel="tag">Design Patterns</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Developer-Experience/" rel="tag">Developer Experience</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Device-Pixel-Ratio/" rel="tag">Device Pixel Ratio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESLint-9-x/" rel="tag">ESLint 9.x</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Enterprise-Architecture/" rel="tag">Enterprise Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Error-Handling/" rel="tag">Error Handling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Feature-Modules/" rel="tag">Feature Modules</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flat-Config/" rel="tag">Flat Config</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Architecture/" rel="tag">Frontend Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Initialization/" rel="tag">Frontend Initialization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Tooling/" rel="tag">Frontend Tooling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GeoJSON/" rel="tag">GeoJSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Global-Properties/" rel="tag">Global Properties</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5-Canvas/" rel="tag">HTML5 Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP-Interceptors/" rel="tag">HTTP Interceptors</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HttpClient/" rel="tag">HttpClient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hydration/" rel="tag">Hydration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interactive-Maps/" rel="tag">Interactive Maps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Internationalization/" rel="tag">Internationalization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linting-Rules/" rel="tag">Linting Rules</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mapbox/" rel="tag">Mapbox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mapbox-GL-JS/" rel="tag">Mapbox GL JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Migration-Guide/" rel="tag">Migration Guide</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Multi-language/" rel="tag">Multi-language</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Multi-platform/" rel="tag">Multi-platform</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Naming-Convention/" rel="tag">Naming Convention</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NullInjectorError/" rel="tag">NullInjectorError</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Offline-Deployment/" rel="tag">Offline Deployment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Performance-Optimization/" rel="tag">Performance Optimization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pinia/" rel="tag">Pinia</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prerender/" rel="tag">Prerender</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PrimeNG/" rel="tag">PrimeNG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Procedural-Animation/" rel="tag">Procedural Animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Production-Deployment/" rel="tag">Production Deployment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Production-Issues/" rel="tag">Production Issues</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Project-Architecture/" rel="tag">Project Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Project-Setup/" rel="tag">Project Setup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RenderMode/" rel="tag">RenderMode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Route-Guards/" rel="tag">Route Guards</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/" rel="tag">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR/" rel="tag">SSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR-Configuration/" rel="tag">SSR Configuration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server-Side-Rendering/" rel="tag">Server-Side Rendering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Service-Pattern/" rel="tag">Service Pattern</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Signals/" rel="tag">Signals</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Simplex-Noise/" rel="tag">Simplex Noise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Standalone-Components/" rel="tag">Standalone Components</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/State-Management/" rel="tag">State Management</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tailwind-CSS/" rel="tag">Tailwind CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Transloco/" rel="tag">Transloco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Troubleshooting/" rel="tag">Troubleshooting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/USGS-Data/" rel="tag">USGS Data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visualization/" rel="tag">Visualization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-js/" rel="tag">Vue.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web-Mapping/" rel="tag">Web Mapping</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i18n/" rel="tag">i18n</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i18n-Debug/" rel="tag">i18n Debug</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsverse-transloco/" rel="tag">jsverse&#x2F;transloco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/provideHttpClient/" rel="tag">provideHttpClient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/withInterceptorsFromDI/" rel="tag">withInterceptorsFromDI</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">標籤雲</h3>
    <div class="widget tagcloud">
      <a href="/tags/ARM/" style="font-size: 10px;">ARM</a> <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/Angular-15/" style="font-size: 10px;">Angular 15+</a> <a href="/tags/Angular-19/" style="font-size: 16.67px;">Angular 19</a> <a href="/tags/Angular-19/" style="font-size: 10px;">Angular 19+</a> <a href="/tags/Angular-Configuration/" style="font-size: 10px;">Angular Configuration</a> <a href="/tags/Angular-SSR/" style="font-size: 10px;">Angular SSR</a> <a href="/tags/Angular-Universal/" style="font-size: 20px;">Angular Universal</a> <a href="/tags/Animation-Loop/" style="font-size: 10px;">Animation Loop</a> <a href="/tags/Best-Practices/" style="font-size: 10px;">Best Practices</a> <a href="/tags/Buildx/" style="font-size: 10px;">Buildx</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/Canvas/" style="font-size: 10px;">Canvas</a> <a href="/tags/Clean-Architecture/" style="font-size: 10px;">Clean Architecture</a> <a href="/tags/Clustering/" style="font-size: 10px;">Clustering</a> <a href="/tags/Code-Quality/" style="font-size: 10px;">Code Quality</a> <a href="/tags/Composables/" style="font-size: 10px;">Composables</a> <a href="/tags/Composition-API/" style="font-size: 10px;">Composition API</a> <a href="/tags/Creative-Coding/" style="font-size: 10px;">Creative Coding</a> <a href="/tags/Data-Visualization/" style="font-size: 10px;">Data Visualization</a> <a href="/tags/Debugging/" style="font-size: 10px;">Debugging</a> <a href="/tags/Dependency-Injection/" style="font-size: 10px;">Dependency Injection</a> <a href="/tags/Design-Patterns/" style="font-size: 10px;">Design Patterns</a> <a href="/tags/Developer-Experience/" style="font-size: 10px;">Developer Experience</a> <a href="/tags/Device-Pixel-Ratio/" style="font-size: 10px;">Device Pixel Ratio</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/ESLint-9-x/" style="font-size: 10px;">ESLint 9.x</a> <a href="/tags/Enterprise-Architecture/" style="font-size: 10px;">Enterprise Architecture</a> <a href="/tags/Error-Handling/" style="font-size: 13.33px;">Error Handling</a> <a href="/tags/Feature-Modules/" style="font-size: 10px;">Feature Modules</a> <a href="/tags/Flat-Config/" style="font-size: 10px;">Flat Config</a> <a href="/tags/Frontend-Architecture/" style="font-size: 10px;">Frontend Architecture</a> <a href="/tags/Frontend-Initialization/" style="font-size: 10px;">Frontend Initialization</a> <a href="/tags/Frontend-Tooling/" style="font-size: 10px;">Frontend Tooling</a> <a href="/tags/GeoJSON/" style="font-size: 10px;">GeoJSON</a> <a href="/tags/Global-Properties/" style="font-size: 10px;">Global Properties</a> <a href="/tags/HTML5-Canvas/" style="font-size: 10px;">HTML5 Canvas</a> <a href="/tags/HTTP-Interceptors/" style="font-size: 10px;">HTTP Interceptors</a> <a href="/tags/HttpClient/" style="font-size: 10px;">HttpClient</a> <a href="/tags/Hydration/" style="font-size: 13.33px;">Hydration</a> <a href="/tags/Interactive-Maps/" style="font-size: 10px;">Interactive Maps</a> <a href="/tags/Internationalization/" style="font-size: 10px;">Internationalization</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/Linting-Rules/" style="font-size: 10px;">Linting Rules</a> <a href="/tags/Mapbox/" style="font-size: 10px;">Mapbox</a> <a href="/tags/Mapbox-GL-JS/" style="font-size: 10px;">Mapbox GL JS</a> <a href="/tags/Migration-Guide/" style="font-size: 10px;">Migration Guide</a> <a href="/tags/Multi-language/" style="font-size: 10px;">Multi-language</a> <a href="/tags/Multi-platform/" style="font-size: 10px;">Multi-platform</a> <a href="/tags/Naming-Convention/" style="font-size: 10px;">Naming Convention</a> <a href="/tags/NullInjectorError/" style="font-size: 10px;">NullInjectorError</a> <a href="/tags/Offline-Deployment/" style="font-size: 10px;">Offline Deployment</a> <a href="/tags/Performance-Optimization/" style="font-size: 16.67px;">Performance Optimization</a> <a href="/tags/Pinia/" style="font-size: 10px;">Pinia</a> <a href="/tags/Prerender/" style="font-size: 13.33px;">Prerender</a> <a href="/tags/PrimeNG/" style="font-size: 10px;">PrimeNG</a> <a href="/tags/Procedural-Animation/" style="font-size: 10px;">Procedural Animation</a> <a href="/tags/Production-Deployment/" style="font-size: 10px;">Production Deployment</a> <a href="/tags/Production-Issues/" style="font-size: 10px;">Production Issues</a> <a href="/tags/Project-Architecture/" style="font-size: 10px;">Project Architecture</a> <a href="/tags/Project-Setup/" style="font-size: 10px;">Project Setup</a> <a href="/tags/RenderMode/" style="font-size: 13.33px;">RenderMode</a> <a href="/tags/Route-Guards/" style="font-size: 13.33px;">Route Guards</a> <a href="/tags/SEO/" style="font-size: 13.33px;">SEO</a> <a href="/tags/SSR/" style="font-size: 16.67px;">SSR</a> <a href="/tags/SSR-Configuration/" style="font-size: 13.33px;">SSR Configuration</a> <a href="/tags/Server-Side-Rendering/" style="font-size: 16.67px;">Server-Side Rendering</a> <a href="/tags/Service-Pattern/" style="font-size: 10px;">Service Pattern</a> <a href="/tags/Signals/" style="font-size: 10px;">Signals</a> <a href="/tags/Simplex-Noise/" style="font-size: 10px;">Simplex Noise</a> <a href="/tags/Standalone-Components/" style="font-size: 13.33px;">Standalone Components</a> <a href="/tags/State-Management/" style="font-size: 10px;">State Management</a> <a href="/tags/Tailwind-CSS/" style="font-size: 10px;">Tailwind CSS</a> <a href="/tags/Transloco/" style="font-size: 16.67px;">Transloco</a> <a href="/tags/Troubleshooting/" style="font-size: 10px;">Troubleshooting</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/USGS-Data/" style="font-size: 10px;">USGS Data</a> <a href="/tags/Visualization/" style="font-size: 10px;">Visualization</a> <a href="/tags/Vue-js/" style="font-size: 10px;">Vue.js</a> <a href="/tags/Web-Mapping/" style="font-size: 10px;">Web Mapping</a> <a href="/tags/i18n/" style="font-size: 10px;">i18n</a> <a href="/tags/i18n-Debug/" style="font-size: 10px;">i18n Debug</a> <a href="/tags/jsverse-transloco/" style="font-size: 10px;">jsverse/transloco</a> <a href="/tags/provideHttpClient/" style="font-size: 10px;">provideHttpClient</a> <a href="/tags/withInterceptorsFromDI/" style="font-size: 10px;">withInterceptorsFromDI</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">彙整</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">九月 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">六月 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/09/29/canvas-simplex-noise-wave-animation-guide/">Canvas + Simplex Noise 動態擬真波浪實作指南</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-enterprise-project-initialization-guide/">Angular 19 企業級前端專案初始化完整指南</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-ssr-transloco-troubleshooting-guide/">Angular SSR + Transloco 故障排除與除錯完整指南</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-ssr-transloco-setup-complete-guide/">Angular SSR + Transloco 國際化配置實戰指南</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-httpclient-modern-configuration-guide/">Angular HttpClient 現代化配置與 withInterceptorsFromDI 實戰指南</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Ben Hsieh<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>