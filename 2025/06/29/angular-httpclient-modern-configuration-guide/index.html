<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Angular HttpClient ç¾ä»£åŒ–é…ç½®èˆ‡ withInterceptorsFromDI å¯¦æˆ°æŒ‡å— | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="æ·±å…¥æ¢è¨ Angular 15+ çš„ provideHttpClient() ç¾ä»£åŒ–é…ç½®ï¼Œè©³ç´°èªªæ˜ withInterceptorsFromDI() çš„ä½¿ç”¨å ´æ™¯å’Œæœ€ä½³å¯¦è¸ï¼ŒåŒ…å«å®Œæ•´çš„é·ç§»ç­–ç•¥å’Œå¯¦æˆ°ç¯„ä¾‹ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="Angular HttpClient ç¾ä»£åŒ–é…ç½®èˆ‡ withInterceptorsFromDI å¯¦æˆ°æŒ‡å—">
<meta property="og:url" content="https://cookieseventeen.github.io/2025/06/29/angular-httpclient-modern-configuration-guide/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="æ·±å…¥æ¢è¨ Angular 15+ çš„ provideHttpClient() ç¾ä»£åŒ–é…ç½®ï¼Œè©³ç´°èªªæ˜ withInterceptorsFromDI() çš„ä½¿ç”¨å ´æ™¯å’Œæœ€ä½³å¯¦è¸ï¼ŒåŒ…å«å®Œæ•´çš„é·ç§»ç­–ç•¥å’Œå¯¦æˆ°ç¯„ä¾‹ã€‚">
<meta property="og:locale" content="zh_TW">
<meta property="article:published_time" content="2025-06-29T07:00:00.000Z">
<meta property="article:modified_time" content="2025-07-13T12:45:07.775Z">
<meta property="article:author" content="Ben Hsieh">
<meta property="article:tag" content="Standalone Components">
<meta property="article:tag" content="Angular 15+">
<meta property="article:tag" content="HttpClient">
<meta property="article:tag" content="provideHttpClient">
<meta property="article:tag" content="withInterceptorsFromDI">
<meta property="article:tag" content="Dependency Injection">
<meta property="article:tag" content="HTTP Interceptors">
<meta property="article:tag" content="Transloco">
<meta property="article:tag" content="Angular Configuration">
<meta property="article:tag" content="Migration Guide">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/fork-awesome@1.2.0/css/fork-awesome.min.css">

<meta name="generator" content="Hexo 7.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">ä»»ä½•ä¸€ä»¶äº‹åšåˆ°æ¥µè‡´éƒ½å€¼å¾—æ•¬ä½©</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"><span class="fa fa-bars"></span></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
        
          <a class="nav-icon" href="/atom.xml" title="RSS Feed"><span class="fa fa-rss"></span></a>
        
        <a class="nav-icon nav-search-btn" title="æœå°‹"><span class="fa fa-search"></span></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœå°‹"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://cookieseventeen.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-angular-httpclient-modern-configuration-guide" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2025/06/29/angular-httpclient-modern-configuration-guide/" class="article-date">
  <time class="dt-published" datetime="2025-06-29T07:00:00.000Z" itemprop="datePublished">2025-06-29</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Tech-Daily/">Tech Daily</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      Angular HttpClient ç¾ä»£åŒ–é…ç½®èˆ‡ withInterceptorsFromDI å¯¦æˆ°æŒ‡å—
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="ğŸ“‹-æ ¸å¿ƒæ‡¶äººåŒ…"><a href="#ğŸ“‹-æ ¸å¿ƒæ‡¶äººåŒ…" class="headerlink" title="ğŸ“‹ æ ¸å¿ƒæ‡¶äººåŒ…"></a>ğŸ“‹ æ ¸å¿ƒæ‡¶äººåŒ…</h2><ol>
<li><strong>provideHttpClient() é©å‘½</strong>ï¼šAngular 15+ æ–°å¼é…ç½®å–ä»£ HttpClientModuleï¼Œæ›´å° bundleã€æ›´éˆæ´»</li>
<li><strong>withInterceptorsFromDI() é—œéµ</strong>ï¼šå‘å¾Œå…¼å®¹èˆŠå¼ HTTP_INTERCEPTORSï¼Œæ”¯æ´ç¬¬ä¸‰æ–¹åº«æ¼¸é€²å¼é·ç§»</li>
<li><strong>é…ç½®ç­–ç•¥</strong>ï¼šæ–°èˆŠ interceptors å¯æ··åˆä½¿ç”¨ï¼Œæ»¿è¶³ä¸åŒå ´æ™¯éœ€æ±‚</li>
<li><strong>Transloco æ•´åˆ</strong>ï¼šå®Œç¾æ”¯æ´åœ‹éš›åŒ–åº«çš„ HTTP è¼‰å…¥éœ€æ±‚</li>
<li><strong>æœ€ä½³å¯¦è¸</strong>ï¼šå„ªå…ˆä½¿ç”¨æ–°å¼å‡½æ•¸ interceptorsï¼Œä¿ç•™ DI æ”¯æ´ä½œç‚ºå‘å¾Œå…¼å®¹</li>
</ol>
<h2 id="ğŸ—ï¸-å°ˆæ¡ˆæ¦‚è¿°"><a href="#ğŸ—ï¸-å°ˆæ¡ˆæ¦‚è¿°" class="headerlink" title="ğŸ—ï¸ å°ˆæ¡ˆæ¦‚è¿°"></a>ğŸ—ï¸ å°ˆæ¡ˆæ¦‚è¿°</h2><p>æœ¬æ–‡è©³ç´°èªªæ˜ Angular 15+ ä¸­ <code>provideHttpClient()</code> çš„ä½¿ç”¨æ–¹å¼ï¼Œç‰¹åˆ¥æ˜¯ <code>withInterceptorsFromDI()</code> é…ç½®é¸é …çš„ä½œç”¨å’Œæœ€ä½³å¯¦è¸ï¼š</p>
<ul>
<li>âš¡ <strong>ç¾ä»£åŒ–é…ç½®</strong>ï¼šå¾ HttpClientModule é·ç§»åˆ° provideHttpClient() çš„å®Œæ•´æŒ‡å—</li>
<li>ğŸ”„ <strong>å‘å¾Œå…¼å®¹ç­–ç•¥</strong>ï¼šwithInterceptorsFromDI() æ”¯æ´æ—¢æœ‰ interceptors å’Œç¬¬ä¸‰æ–¹åº«</li>
<li>ğŸŒ <strong>Transloco æ•´åˆ</strong>ï¼šåœ‹éš›åŒ–åº«çš„ HTTP è¼‰å…¥é…ç½®å¯¦æˆ°</li>
<li>ğŸ“Š <strong>æ•ˆèƒ½å„ªåŒ–</strong>ï¼šTree-shakable é…ç½®æ¸›å°‘ bundle å¤§å°</li>
<li>ğŸ› ï¸ <strong>å¯¦æˆ°ç¯„ä¾‹</strong>ï¼šå‰ç«¯å°ˆæ¡ˆçš„çœŸå¯¦é…ç½®æ¡ˆä¾‹</li>
</ul>
<h2 id="ğŸ—ï¸-Angular-HttpClient-é…ç½®æ¼”é€²æ¶æ§‹"><a href="#ğŸ—ï¸-Angular-HttpClient-é…ç½®æ¼”é€²æ¶æ§‹" class="headerlink" title="ğŸ—ï¸ Angular HttpClient é…ç½®æ¼”é€²æ¶æ§‹"></a>ğŸ—ï¸ Angular HttpClient é…ç½®æ¼”é€²æ¶æ§‹</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[Angular HttpClient é…ç½®] --&gt; B[å‚³çµ±æ–¹å¼ Angular 14-]</span><br><span class="line">    A --&gt; C[ç¾ä»£æ–¹å¼ Angular 15+]</span><br><span class="line">    </span><br><span class="line">    B --&gt; B1[HttpClientModule]</span><br><span class="line">    B --&gt; B2[HTTP_INTERCEPTORS Token]</span><br><span class="line">    B --&gt; B3[è¼ƒå¤§ Bundle å¤§å°]</span><br><span class="line">    </span><br><span class="line">    C --&gt; C1[provideHttpClient]</span><br><span class="line">    C --&gt; C2[å‡½æ•¸å¼é…ç½®]</span><br><span class="line">    C --&gt; C3[Tree-shakable]</span><br><span class="line">    </span><br><span class="line">    C1 --&gt; D[é…ç½®é¸é …]</span><br><span class="line">    D --&gt; D1[withInterceptors]</span><br><span class="line">    D --&gt; D2[withInterceptorsFromDI]</span><br><span class="line">    D --&gt; D3[withFetch]</span><br><span class="line">    D --&gt; D4[withRequestsMadeViaParent]</span><br><span class="line">    </span><br><span class="line">    D1 --&gt; E[æ–°å¼å‡½æ•¸ Interceptors]</span><br><span class="line">    D2 --&gt; F[ç›¸å®¹èˆŠå¼ DI Interceptors]</span><br><span class="line">    </span><br><span class="line">    E --&gt; G[æ¨è–¦ä½¿ç”¨]</span><br><span class="line">    F --&gt; H[å‘å¾Œå…¼å®¹]</span><br><span class="line">    </span><br><span class="line">    G --&gt; I[æ›´å¥½çš„ TypeScript æ”¯æ´]</span><br><span class="line">    H --&gt; I</span><br><span class="line">    I --&gt; J[æœ€ä½³åŒ–é–‹ç™¼é«”é©—]</span><br></pre></td></tr></table></figure>

<h1 id="Angular-HttpClient-ç¾ä»£åŒ–é…ç½®æŒ‡å—"><a href="#Angular-HttpClient-ç¾ä»£åŒ–é…ç½®æŒ‡å—" class="headerlink" title="Angular HttpClient ç¾ä»£åŒ–é…ç½®æŒ‡å—"></a>Angular HttpClient ç¾ä»£åŒ–é…ç½®æŒ‡å—</h1><h2 id="ğŸ“‹-æ¦‚è¿°"><a href="#ğŸ“‹-æ¦‚è¿°" class="headerlink" title="ğŸ“‹ æ¦‚è¿°"></a>ğŸ“‹ æ¦‚è¿°</h2><p>æœ¬æ–‡æª”è©³ç´°èªªæ˜ Angular 15+ ä¸­ <code>provideHttpClient()</code> çš„ä½¿ç”¨æ–¹å¼ï¼Œç‰¹åˆ¥æ˜¯ <code>withInterceptorsFromDi()</code> é…ç½®é¸é …çš„ä½œç”¨å’Œæœ€ä½³å¯¦è¸ã€‚</p>
<h2 id="ğŸ—ï¸-åŸºæœ¬æ¦‚å¿µ"><a href="#ğŸ—ï¸-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="ğŸ—ï¸ åŸºæœ¬æ¦‚å¿µ"></a>ğŸ—ï¸ åŸºæœ¬æ¦‚å¿µ</h2><h3 id="provideHttpClient"><a href="#provideHttpClient" class="headerlink" title="provideHttpClient()"></a>provideHttpClient()</h3><p>Angular 15+ å¼•å…¥çš„æ–°å¼ HTTP å®¢æˆ¶ç«¯é…ç½®æ–¹å¼ï¼Œå–ä»£å‚³çµ±çš„ <code>HttpClientModule</code>ã€‚</p>
<p><strong>ç‰¹é»ï¼š</strong></p>
<ul>
<li>å‡½æ•¸å¼é…ç½®</li>
<li>Tree-shakableï¼ˆæ›´å°çš„ bundle å¤§å°ï¼‰</li>
<li>æ›´éˆæ´»çš„åŠŸèƒ½çµ„åˆ</li>
<li>æ›´å¥½çš„ TypeScript æ”¯æ´</li>
</ul>
<h3 id="withInterceptorsFromDI"><a href="#withInterceptorsFromDI" class="headerlink" title="withInterceptorsFromDI()"></a>withInterceptorsFromDI()</h3><p>å•Ÿç”¨åŸºæ–¼ä¾è³´æ³¨å…¥ï¼ˆDIï¼‰çš„ HTTP Interceptors æ”¯æ´ã€‚</p>
<p><strong>ç”¨é€”ï¼š</strong></p>
<ul>
<li>å‘å¾Œå…¼å®¹èˆŠå¼ <code>HTTP_INTERCEPTORS</code> token</li>
<li>æ”¯æ´ç¬¬ä¸‰æ–¹åº«çš„ interceptors</li>
<li>æ¼¸é€²å¼é·ç§»ç­–ç•¥</li>
</ul>
<h2 id="ğŸ”„-æ–°èˆŠå°æ¯”"><a href="#ğŸ”„-æ–°èˆŠå°æ¯”" class="headerlink" title="ğŸ”„ æ–°èˆŠå°æ¯”"></a>ğŸ”„ æ–°èˆŠå°æ¯”</h2><h3 id="èˆŠæ–¹å¼ï¼ˆAngular-14-ä»¥å‰ï¼‰"><a href="#èˆŠæ–¹å¼ï¼ˆAngular-14-ä»¥å‰ï¼‰" class="headerlink" title="èˆŠæ–¹å¼ï¼ˆAngular 14 ä»¥å‰ï¼‰"></a>èˆŠæ–¹å¼ï¼ˆAngular 14 ä»¥å‰ï¼‰</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.module.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">NgModule</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpClientModule</span>, <span class="variable constant_">HTTP_INTERCEPTORS</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AuthInterceptor</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./interceptors/auth.interceptor&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@NgModule</span>(&#123;</span><br><span class="line">    <span class="attr">imports</span>: [</span><br><span class="line">        <span class="title class_">HttpClientModule</span>, <span class="comment">// åŒ¯å…¥æ•´å€‹æ¨¡çµ„</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="comment">// è¨»å†Š interceptors</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">HTTP_INTERCEPTORS</span>,</span><br><span class="line">            <span class="attr">useClass</span>: <span class="title class_">AuthInterceptor</span>,</span><br><span class="line">            <span class="attr">multi</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">AppModule</span> &#123;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ–°æ–¹å¼ï¼ˆAngular-15-ï¼‰"><a href="#æ–°æ–¹å¼ï¼ˆAngular-15-ï¼‰" class="headerlink" title="æ–°æ–¹å¼ï¼ˆAngular 15+ï¼‰"></a>æ–°æ–¹å¼ï¼ˆAngular 15+ï¼‰</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ApplicationConfig</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">    provideHttpClient,</span><br><span class="line">    withInterceptors,</span><br><span class="line">    withInterceptorsFromDi,</span><br><span class="line">    <span class="variable constant_">HTTP_INTERCEPTORS</span>,</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="comment">// æ–¹å¼1ï¼šæ–°å¼å‡½æ•¸ interceptorsï¼ˆæ¨è–¦ï¼‰</span></span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([authInterceptor, loggingInterceptor])),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ–¹å¼2ï¼šç›¸å®¹èˆŠå¼ DI interceptors</span></span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>()),</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">HTTP_INTERCEPTORS</span>,</span><br><span class="line">            <span class="attr">useClass</span>: <span class="title class_">AuthInterceptor</span>,</span><br><span class="line">            <span class="attr">multi</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="âš™ï¸-é…ç½®é¸é …è©³è§£"><a href="#âš™ï¸-é…ç½®é¸é …è©³è§£" class="headerlink" title="âš™ï¸ é…ç½®é¸é …è©³è§£"></a>âš™ï¸ é…ç½®é¸é …è©³è§£</h2><h3 id="1-åŸºæœ¬é…ç½®"><a href="#1-åŸºæœ¬é…ç½®" class="headerlink" title="1. åŸºæœ¬é…ç½®"></a>1. åŸºæœ¬é…ç½®</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ€ç°¡å–®çš„é…ç½® - åªæä¾› HttpClient æœå‹™</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>();</span><br></pre></td></tr></table></figure>

<h3 id="2-æ”¯æ´-DI-Interceptors"><a href="#2-æ”¯æ´-DI-Interceptors" class="headerlink" title="2. æ”¯æ´ DI Interceptors"></a>2. æ”¯æ´ DI Interceptors</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¯æ´å‚³çµ±çš„ä¾è³´æ³¨å…¥ interceptors</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>());</span><br></pre></td></tr></table></figure>

<h3 id="3-æ–°å¼å‡½æ•¸-Interceptors"><a href="#3-æ–°å¼å‡½æ•¸-Interceptors" class="headerlink" title="3. æ–°å¼å‡½æ•¸ Interceptors"></a>3. æ–°å¼å‡½æ•¸ Interceptors</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨æ–°çš„å‡½æ•¸å¼ interceptors</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptors</span>([authInterceptor, loggingInterceptor, errorHandlingInterceptor])</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="4-æ··åˆé…ç½®"><a href="#4-æ··åˆé…ç½®" class="headerlink" title="4. æ··åˆé…ç½®"></a>4. æ··åˆé…ç½®</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ™‚æ”¯æ´æ–°èˆŠå…©ç¨®æ–¹å¼</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptors</span>([newStyleInterceptor]),</span><br><span class="line">    <span class="title function_">withInterceptorsFromDi</span>(),</span><br><span class="line">    <span class="title function_">withFetch</span>(), <span class="comment">// ä½¿ç”¨ Fetch API</span></span><br><span class="line">    <span class="title function_">withRequestsMadeViaParent</span>() <span class="comment">// SSR æ”¯æ´</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ¯-å¯¦éš›ç¯„ä¾‹"><a href="#ğŸ¯-å¯¦éš›ç¯„ä¾‹" class="headerlink" title="ğŸ¯ å¯¦éš›ç¯„ä¾‹"></a>ğŸ¯ å¯¦éš›ç¯„ä¾‹</h2><h3 id="å‰ç«¯å°ˆæ¡ˆé…ç½®ç¯„ä¾‹"><a href="#å‰ç«¯å°ˆæ¡ˆé…ç½®ç¯„ä¾‹" class="headerlink" title="å‰ç«¯å°ˆæ¡ˆé…ç½®ç¯„ä¾‹"></a>å‰ç«¯å°ˆæ¡ˆé…ç½®ç¯„ä¾‹</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/app.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">ApplicationConfig</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideHttpClient, withInterceptorsFromDi &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; provideTransloco &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">TranslocoHttpLoader</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;./core/services/transloco.config&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; environment &#125; <span class="keyword">from</span> <span class="string">&#x27;../environments/environment&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="comment">// HTTP å®¢æˆ¶ç«¯é…ç½® - æ”¯æ´ DI interceptors</span></span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>()),</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Transloco åœ‹éš›åŒ–é…ç½®</span></span><br><span class="line">        <span class="title function_">provideTransloco</span>(&#123;</span><br><span class="line">            <span class="attr">config</span>: &#123;</span><br><span class="line">                <span class="attr">availableLangs</span>: [<span class="string">&#x27;en&#x27;</span>, <span class="string">&#x27;zh-tw&#x27;</span>],</span><br><span class="line">                <span class="attr">defaultLang</span>: <span class="string">&#x27;zh-tw&#x27;</span>,</span><br><span class="line">                <span class="attr">fallbackLang</span>: <span class="string">&#x27;zh-tw&#x27;</span>,</span><br><span class="line">                <span class="attr">reRenderOnLangChange</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">prodMode</span>: environment.<span class="property">production</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">loader</span>: <span class="title class_">TranslocoHttpLoader</span>, <span class="comment">// ä¾è³´ HttpClient</span></span><br><span class="line">        &#125;),</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="TranslocoHttpLoader-ä½¿ç”¨ç¯„ä¾‹"><a href="#TranslocoHttpLoader-ä½¿ç”¨ç¯„ä¾‹" class="headerlink" title="TranslocoHttpLoader ä½¿ç”¨ç¯„ä¾‹"></a>TranslocoHttpLoader ä½¿ç”¨ç¯„ä¾‹</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/core/services/transloco.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpClient</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Injectable</span>, inject &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Translation</span>, <span class="title class_">TranslocoLoader</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@jsverse/transloco&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Observable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;rxjs&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>(&#123; <span class="attr">providedIn</span>: <span class="string">&#x27;root&#x27;</span> &#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">TranslocoHttpLoader</span> <span class="keyword">implements</span> <span class="title class_">TranslocoLoader</span> &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨ inject() å‡½æ•¸æ³¨å…¥ HttpClient</span></span><br><span class="line">    <span class="keyword">private</span> http = <span class="title function_">inject</span>(<span class="title class_">HttpClient</span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">getTranslation</span>(<span class="attr">lang</span>: <span class="built_in">string</span>): <span class="title class_">Observable</span>&lt;<span class="title class_">Translation</span>&gt; &#123;</span><br><span class="line">        <span class="comment">// è¼‰å…¥ç¿»è­¯æª”æ¡ˆ - éœ€è¦ HttpClient æ”¯æ´</span></span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="property">get</span>&lt;<span class="title class_">Translation</span>&gt;(<span class="string">`/assets/i18n/<span class="subst">$&#123;lang&#125;</span>.json`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ·»åŠ -Interceptors-ç¯„ä¾‹"><a href="#æ·»åŠ -Interceptors-ç¯„ä¾‹" class="headerlink" title="æ·»åŠ  Interceptors ç¯„ä¾‹"></a>æ·»åŠ  Interceptors ç¯„ä¾‹</h3><h4 id="æ–°å¼å‡½æ•¸-Interceptor"><a href="#æ–°å¼å‡½æ•¸-Interceptor" class="headerlink" title="æ–°å¼å‡½æ•¸ Interceptor"></a>æ–°å¼å‡½æ•¸ Interceptor</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/core/interceptors/auth.interceptor.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpInterceptorFn</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; inject &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">AuthService</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;../services/auth.service&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">authInterceptor</span>: <span class="title class_">HttpInterceptorFn</span> = <span class="function">(<span class="params">req, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> authService = <span class="title function_">inject</span>(<span class="title class_">AuthService</span>);</span><br><span class="line">    <span class="keyword">const</span> token = authService.<span class="title function_">getToken</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (token) &#123;</span><br><span class="line">        <span class="keyword">const</span> authReq = req.<span class="title function_">clone</span>(&#123;</span><br><span class="line">            <span class="attr">setHeaders</span>: &#123;</span><br><span class="line">                <span class="title class_">Authorization</span>: <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span>,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">next</span>(authReq);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">next</span>(req);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.config.ts</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([authInterceptor]));</span><br></pre></td></tr></table></figure>

<h4 id="èˆŠå¼é¡åˆ¥-Interceptor"><a href="#èˆŠå¼é¡åˆ¥-Interceptor" class="headerlink" title="èˆŠå¼é¡åˆ¥ Interceptor"></a>èˆŠå¼é¡åˆ¥ Interceptor</h4><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/core/interceptors/legacy-auth.interceptor.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Injectable</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/core&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">HttpInterceptor</span>, <span class="title class_">HttpRequest</span>, <span class="title class_">HttpHandler</span> &#125; <span class="keyword">from</span> <span class="string">&#x27;@angular/common/http&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Injectable</span>()</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">LegacyAuthInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HttpInterceptor</span> &#123;</span><br><span class="line">    <span class="title function_">intercept</span>(<span class="params"><span class="attr">req</span>: <span class="title class_">HttpRequest</span>&lt;<span class="built_in">any</span>&gt;, <span class="attr">next</span>: <span class="title class_">HttpHandler</span></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> token = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (token) &#123;</span><br><span class="line">            <span class="keyword">const</span> authReq = req.<span class="title function_">clone</span>(&#123;</span><br><span class="line">                <span class="attr">setHeaders</span>: &#123;</span><br><span class="line">                    <span class="title class_">Authorization</span>: <span class="string">`Bearer <span class="subst">$&#123;token&#125;</span>`</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">return</span> next.<span class="title function_">handle</span>(authReq);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> next.<span class="title function_">handle</span>(req);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.config.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDi</span>()),</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">HTTP_INTERCEPTORS</span>,</span><br><span class="line">            <span class="attr">useClass</span>: <span class="title class_">LegacyAuthInterceptor</span>,</span><br><span class="line">            <span class="attr">multi</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="ğŸš€-æœ€ä½³å¯¦è¸"><a href="#ğŸš€-æœ€ä½³å¯¦è¸" class="headerlink" title="ğŸš€ æœ€ä½³å¯¦è¸"></a>ğŸš€ æœ€ä½³å¯¦è¸</h2><h3 id="1-é¸æ“‡é©ç•¶çš„é…ç½®æ–¹å¼"><a href="#1-é¸æ“‡é©ç•¶çš„é…ç½®æ–¹å¼" class="headerlink" title="1. é¸æ“‡é©ç•¶çš„é…ç½®æ–¹å¼"></a>1. é¸æ“‡é©ç•¶çš„é…ç½®æ–¹å¼</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ… æ¨è–¦ï¼šæ–°å°ˆæ¡ˆä½¿ç”¨æ–°å¼ interceptors</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([authInterceptor, loggingInterceptor]));</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… å¯æ¥å—ï¼šéœ€è¦å‘å¾Œå…¼å®¹æ™‚</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDI</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// âŒ é¿å…ï¼šä¸å¿…è¦çš„è¤‡é›œé…ç½®</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptors</span>([newInterceptor]),</span><br><span class="line">    <span class="title function_">withInterceptorsFromDI</span>() <span class="comment">// åŒæ™‚ä½¿ç”¨å…©ç¨®æ–¹å¼å¯èƒ½é€ æˆæ··æ·†</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h3 id="2-æ¼¸é€²å¼é·ç§»ç­–ç•¥"><a href="#2-æ¼¸é€²å¼é·ç§»ç­–ç•¥" class="headerlink" title="2. æ¼¸é€²å¼é·ç§»ç­–ç•¥"></a>2. æ¼¸é€²å¼é·ç§»ç­–ç•¥</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éšæ®µ1ï¼šæ·»åŠ  withInterceptorsFromDI æ”¯æ´</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptorsFromDI</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšæ®µ2ï¼šé€æ­¥å°‡ interceptors æ”¹ç‚ºå‡½æ•¸å¼</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptors</span>([newAuthInterceptor]), <span class="comment">// æ–°çš„</span></span><br><span class="line">    <span class="title function_">withInterceptorsFromDI</span>() <span class="comment">// ä¿ç•™èˆŠçš„</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">// éšæ®µ3ï¼šå®Œå…¨é·ç§»åˆ°æ–°å¼</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([authInterceptor, loggingInterceptor, errorInterceptor]));</span><br></pre></td></tr></table></figure>

<h3 id="3-ç’°å¢ƒç‰¹å®šé…ç½®"><a href="#3-ç’°å¢ƒç‰¹å®šé…ç½®" class="headerlink" title="3. ç’°å¢ƒç‰¹å®šé…ç½®"></a>3. ç’°å¢ƒç‰¹å®šé…ç½®</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// src/app/config/http.config.ts</span></span><br><span class="line"><span class="keyword">import</span> &#123; environment &#125; <span class="keyword">from</span> <span class="string">&#x27;../../environments/environment&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">getHttpClientConfig</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> interceptors = [authInterceptor];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é–‹ç™¼ç’°å¢ƒæ·»åŠ æ—¥èªŒ interceptor</span></span><br><span class="line">    <span class="keyword">if</span> (!environment.<span class="property">production</span>) &#123;</span><br><span class="line">        interceptors.<span class="title function_">push</span>(loggingInterceptor);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">provideHttpClient</span>(</span><br><span class="line">        <span class="title function_">withInterceptors</span>(interceptors),</span><br><span class="line">        <span class="title function_">withFetch</span>() <span class="comment">// ç”Ÿç”¢ç’°å¢ƒä½¿ç”¨ Fetch API</span></span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// app.config.ts</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span> = &#123;</span><br><span class="line">    <span class="attr">providers</span>: [</span><br><span class="line">        <span class="title function_">getHttpClientConfig</span>(),</span><br><span class="line">        <span class="comment">// ... å…¶ä»– providers</span></span><br><span class="line">    ],</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h2 id="âš ï¸-å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ"><a href="#âš ï¸-å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ" class="headerlink" title="âš ï¸ å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ"></a>âš ï¸ å¸¸è¦‹å•é¡Œèˆ‡è§£æ±ºæ–¹æ¡ˆ</h2><h3 id="å•é¡Œ-1ï¼šTransloco-è¼‰å…¥å¤±æ•—"><a href="#å•é¡Œ-1ï¼šTransloco-è¼‰å…¥å¤±æ•—" class="headerlink" title="å•é¡Œ 1ï¼šTransloco è¼‰å…¥å¤±æ•—"></a>å•é¡Œ 1ï¼šTransloco è¼‰å…¥å¤±æ•—</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Error: NullInjectorError: No provider for HttpClient</span><br></pre></td></tr></table></figure>

<p><strong>è§£æ±ºæ–¹æ¡ˆï¼š</strong></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¢ºä¿æœ‰æä¾› HttpClient</span></span><br><span class="line"><span class="attr">providers</span>: [</span><br><span class="line">  <span class="title function_">provideHttpClient</span>(),  <span class="comment">// æˆ– withInterceptorsFromDI()</span></span><br><span class="line">  <span class="title function_">provideTransloco</span>(&#123;...&#125;)</span><br><span class="line">]</span><br></pre></td></tr></table></figure>

<h3 id="å•é¡Œ-2ï¼šç¬¬ä¸‰æ–¹åº«-Interceptor-ä¸èµ·ä½œç”¨"><a href="#å•é¡Œ-2ï¼šç¬¬ä¸‰æ–¹åº«-Interceptor-ä¸èµ·ä½œç”¨" class="headerlink" title="å•é¡Œ 2ï¼šç¬¬ä¸‰æ–¹åº« Interceptor ä¸èµ·ä½œç”¨"></a>å•é¡Œ 2ï¼šç¬¬ä¸‰æ–¹åº« Interceptor ä¸èµ·ä½œç”¨</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âŒ éŒ¯èª¤ï¼šåªä½¿ç”¨æ–°å¼ interceptors</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([myInterceptor]));</span><br><span class="line"></span><br><span class="line"><span class="comment">// âœ… æ­£ç¢ºï¼šæ·»åŠ  DI æ”¯æ´</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(<span class="title function_">withInterceptors</span>([myInterceptor]), <span class="title function_">withInterceptorsFromDI</span>());</span><br></pre></td></tr></table></figure>

<h3 id="å•é¡Œ-3ï¼šSSR-ç’°å¢ƒä¸‹çš„å•é¡Œ"><a href="#å•é¡Œ-3ï¼šSSR-ç’°å¢ƒä¸‹çš„å•é¡Œ" class="headerlink" title="å•é¡Œ 3ï¼šSSR ç’°å¢ƒä¸‹çš„å•é¡Œ"></a>å•é¡Œ 3ï¼šSSR ç’°å¢ƒä¸‹çš„å•é¡Œ</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// âœ… SSR å‹å¥½é…ç½®</span></span><br><span class="line"><span class="title function_">provideHttpClient</span>(</span><br><span class="line">    <span class="title function_">withInterceptorsFromDI</span>(),</span><br><span class="line">    <span class="title function_">withRequestsMadeViaParent</span>() <span class="comment">// SSR æ”¯æ´</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ”§-é™¤éŒ¯æŠ€å·§"><a href="#ğŸ”§-é™¤éŒ¯æŠ€å·§" class="headerlink" title="ğŸ”§ é™¤éŒ¯æŠ€å·§"></a>ğŸ”§ é™¤éŒ¯æŠ€å·§</h2><h3 id="1-æª¢æŸ¥-HTTP-è«‹æ±‚"><a href="#1-æª¢æŸ¥-HTTP-è«‹æ±‚" class="headerlink" title="1. æª¢æŸ¥ HTTP è«‹æ±‚"></a>1. æª¢æŸ¥ HTTP è«‹æ±‚</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ æ—¥èªŒ interceptor é€²è¡Œé™¤éŒ¯</span></span><br><span class="line"><span class="keyword">const</span> <span class="attr">loggingInterceptor</span>: <span class="title class_">HttpInterceptorFn</span> = <span class="function">(<span class="params">req, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HTTP Request:&#x27;</span>, req.<span class="property">url</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">next</span>(req).<span class="title function_">pipe</span>(<span class="title function_">tap</span>(<span class="function"><span class="params">response</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HTTP Response:&#x27;</span>, response)));</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="2-é©—è­‰é…ç½®"><a href="#2-é©—è­‰é…ç½®" class="headerlink" title="2. é©—è­‰é…ç½®"></a>2. é©—è­‰é…ç½®</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨å…ƒä»¶ä¸­æª¢æŸ¥ HttpClient æ˜¯å¦å¯ç”¨</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">class</span> <span class="title class_">TestComponent</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> http = <span class="title function_">inject</span>(<span class="title class_">HttpClient</span>);</span><br><span class="line"></span><br><span class="line">    <span class="title function_">ngOnInit</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;HttpClient available:&#x27;</span>, !!<span class="variable language_">this</span>.<span class="property">http</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ“š-ç›¸é—œè³‡æº"><a href="#ğŸ“š-ç›¸é—œè³‡æº" class="headerlink" title="ğŸ“š ç›¸é—œè³‡æº"></a>ğŸ“š ç›¸é—œè³‡æº</h2><ul>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/http">Angular HttpClient å®˜æ–¹æ–‡æª”</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/http-interceptors">Interceptors é·ç§»æŒ‡å—</a></li>
<li><a target="_blank" rel="noopener" href="https://angular.io/guide/standalone-components">Standalone API é…ç½®</a></li>
<li><a target="_blank" rel="noopener" href="https://ngneat.github.io/transloco/">Transloco å®˜æ–¹æ–‡æª”</a></li>
</ul>
<h2 id="ğŸ“-ç¸½çµ"><a href="#ğŸ“-ç¸½çµ" class="headerlink" title="ğŸ“ ç¸½çµ"></a>ğŸ“ ç¸½çµ</h2><p><code>provideHttpClient(withInterceptorsFromDi())</code> çš„æ ¸å¿ƒä½œç”¨ï¼š</p>
<ol>
<li><strong>ç¾ä»£åŒ–é…ç½®</strong>ï¼šä½¿ç”¨æ–°çš„å‡½æ•¸å¼ API é…ç½® HTTP å®¢æˆ¶ç«¯</li>
<li><strong>å‘å¾Œå…¼å®¹</strong>ï¼šæ”¯æ´å‚³çµ±çš„ DI-based interceptors</li>
<li><strong>æ•ˆèƒ½å„ªåŒ–</strong>ï¼šTree-shakableï¼Œæ¸›å°‘ bundle å¤§å°</li>
<li><strong>æ¼¸é€²å¼é·ç§»</strong>ï¼šå…è¨±é€æ­¥å¾èˆŠæ–¹å¼é·ç§»åˆ°æ–°æ–¹å¼</li>
</ol>
<p>åœ¨å‰ç«¯å°ˆæ¡ˆä¸­ï¼Œé€™å€‹é…ç½®ç¢ºä¿ï¼š</p>
<ul>
<li>âœ… Transloco èƒ½æ­£å¸¸è¼‰å…¥ç¿»è­¯æª”æ¡ˆ</li>
<li>âœ… æœªä¾†å¯ä»¥è¼•é¬†æ·»åŠ èªè­‰ã€æ—¥èªŒç­‰ interceptors</li>
<li>âœ… ä¿æŒèˆ‡ Angular æœ€æ–°ç‰ˆæœ¬çš„å…¼å®¹æ€§</li>
<li>âœ… æ”¯æ´ SSR å’Œå…¶ä»–é€²éšåŠŸèƒ½</li>
</ul>
<h2 id="ğŸ’¡-HttpClient-é…ç½®æ±ºç­–æµç¨‹åœ–"><a href="#ğŸ’¡-HttpClient-é…ç½®æ±ºç­–æµç¨‹åœ–" class="headerlink" title="ğŸ’¡ HttpClient é…ç½®æ±ºç­–æµç¨‹åœ–"></a>ğŸ’¡ HttpClient é…ç½®æ±ºç­–æµç¨‹åœ–</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">flowchart TD</span><br><span class="line">    A[é¸æ“‡ HttpClient é…ç½®æ–¹å¼] --&gt; B&#123;æ˜¯å¦ç‚ºæ–°å°ˆæ¡ˆ?&#125;</span><br><span class="line">    </span><br><span class="line">    B --&gt;|æ˜¯| C[ä½¿ç”¨ provideHttpClient()]</span><br><span class="line">    B --&gt;|å¦| D&#123;æ˜¯å¦éœ€è¦ç›¸å®¹æ—¢æœ‰ interceptors?&#125;</span><br><span class="line">    </span><br><span class="line">    D --&gt;|æ˜¯| E[withInterceptorsFromDI]</span><br><span class="line">    D --&gt;|å¦| F[æ–°å¼å‡½æ•¸ interceptors]</span><br><span class="line">    </span><br><span class="line">    C --&gt; G&#123;éœ€è¦ç¬¬ä¸‰æ–¹åº«æ”¯æ´?&#125;</span><br><span class="line">    G --&gt;|æ˜¯| H[æ·»åŠ  withInterceptorsFromDI]</span><br><span class="line">    G --&gt;|å¦| I[ç´”æ–°å¼é…ç½®]</span><br><span class="line">    </span><br><span class="line">    E --&gt; J[æ¼¸é€²å¼é·ç§»ç­–ç•¥]</span><br><span class="line">    F --&gt; K[ç¾ä»£åŒ–æœ€ä½³å¯¦è¸]</span><br><span class="line">    H --&gt; L[æ··åˆé…ç½®æ¨¡å¼]</span><br><span class="line">    I --&gt; M[æœ€ä½³æ•ˆèƒ½é…ç½®]</span><br><span class="line">    </span><br><span class="line">    J --&gt; N&#123;é·ç§»å®Œæˆ?&#125;</span><br><span class="line">    N --&gt;|å¦| O[ä¿æŒæ··åˆæ¨¡å¼]</span><br><span class="line">    N --&gt;|æ˜¯| P[ç§»é™¤ DI æ”¯æ´]</span><br><span class="line">    </span><br><span class="line">    K --&gt; Q[åŠ å…¥ç’°å¢ƒç‰¹å®šé…ç½®]</span><br><span class="line">    L --&gt; Q</span><br><span class="line">    M --&gt; Q</span><br><span class="line">    O --&gt; Q</span><br><span class="line">    P --&gt; Q</span><br><span class="line">    </span><br><span class="line">    Q --&gt; R[éƒ¨ç½²èˆ‡ç›£æ§]</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ¯-æ ¸å¿ƒæ´å¯Ÿç¸½çµ"><a href="#ğŸ¯-æ ¸å¿ƒæ´å¯Ÿç¸½çµ" class="headerlink" title="ğŸ¯ æ ¸å¿ƒæ´å¯Ÿç¸½çµ"></a>ğŸ¯ æ ¸å¿ƒæ´å¯Ÿç¸½çµ</h2><h3 id="ğŸ”-æŠ€è¡“æ±ºç­–é—œéµé»"><a href="#ğŸ”-æŠ€è¡“æ±ºç­–é—œéµé»" class="headerlink" title="ğŸ” æŠ€è¡“æ±ºç­–é—œéµé»"></a>ğŸ” æŠ€è¡“æ±ºç­–é—œéµé»</h3><ol>
<li><p><strong>é…ç½®æ¨¡å¼é¸æ“‡</strong></p>
<ul>
<li><strong>æ–°å°ˆæ¡ˆ</strong>ï¼šå„ªå…ˆä½¿ç”¨ <code>withInterceptors([])</code> æ–°å¼å‡½æ•¸é…ç½®</li>
<li><strong>æ—¢æœ‰å°ˆæ¡ˆ</strong>ï¼šæ¡ç”¨ <code>withInterceptorsFromDI()</code> ä¿æŒå‘å¾Œå…¼å®¹</li>
<li><strong>æ··åˆå°ˆæ¡ˆ</strong>ï¼šåŒæ™‚ä½¿ç”¨å…©ç¨®æ¨¡å¼ï¼Œæ¼¸é€²å¼é·ç§»</li>
</ul>
</li>
<li><p><strong>æ•ˆèƒ½å½±éŸ¿åˆ†æ</strong></p>
<ul>
<li><strong>Bundle å¤§å°</strong>ï¼šæ–°å¼é…ç½®å¹³å‡æ¸›å°‘ 15-20% HTTP ç›¸é—œä»£ç¢¼</li>
<li><strong>Tree-shaking</strong>ï¼šæœªä½¿ç”¨çš„ interceptor åŠŸèƒ½æœƒè¢«è‡ªå‹•ç§»é™¤</li>
<li><strong>é‹è¡Œæ™‚æ•ˆèƒ½</strong>ï¼šå‡½æ•¸å¼ interceptors æœ‰æ›´å¥½çš„åŸ·è¡Œæ•ˆç‡</li>
</ul>
</li>
<li><p><strong>ç¶­è­·æ€§è€ƒé‡</strong></p>
<ul>
<li><strong>ä¾è³´ç®¡ç†</strong>ï¼šæ¸›å°‘å° Module ç³»çµ±çš„ä¾è³´</li>
<li><strong>æ¸¬è©¦å‹å–„</strong>ï¼šå‡½æ•¸å¼é…ç½®æ›´å®¹æ˜“é€²è¡Œå–®å…ƒæ¸¬è©¦</li>
<li><strong>é¡å‹å®‰å…¨</strong>ï¼šæ›´å¥½çš„ TypeScript æ¨æ–·å’ŒéŒ¯èª¤æª¢æŸ¥</li>
</ul>
</li>
</ol>
<h3 id="ğŸš¨-é¿å…çš„å¸¸è¦‹é™·é˜±"><a href="#ğŸš¨-é¿å…çš„å¸¸è¦‹é™·é˜±" class="headerlink" title="ğŸš¨ é¿å…çš„å¸¸è¦‹é™·é˜±"></a>ğŸš¨ é¿å…çš„å¸¸è¦‹é™·é˜±</h3><ol>
<li><strong>éåº¦é…ç½®</strong>ï¼šä¸éœ€è¦åŒæ™‚ä½¿ç”¨æ–°èˆŠå…©ç¨®æ–¹å¼ï¼Œé™¤éæœ‰æ˜ç¢ºéœ€æ±‚</li>
<li><strong>å¿½ç•¥ç¬¬ä¸‰æ–¹åº«</strong>ï¼šä½¿ç”¨ Translocoã€Auth0 ç­‰åº«æ™‚å¿…é ˆå•Ÿç”¨ DI æ”¯æ´</li>
<li><strong>SSR å…¼å®¹æ€§</strong>ï¼šå¿˜è¨˜é…ç½® <code>withRequestsMadeViaParent()</code> å°è‡´ SSR å•é¡Œ</li>
</ol>
<h2 id="ğŸš€-é€²éšæ‡‰ç”¨ç­–ç•¥"><a href="#ğŸš€-é€²éšæ‡‰ç”¨ç­–ç•¥" class="headerlink" title="ğŸš€ é€²éšæ‡‰ç”¨ç­–ç•¥"></a>ğŸš€ é€²éšæ‡‰ç”¨ç­–ç•¥</h2><h3 id="ğŸ¯-ä¼æ¥­ç´šé…ç½®ç­–ç•¥"><a href="#ğŸ¯-ä¼æ¥­ç´šé…ç½®ç­–ç•¥" class="headerlink" title="ğŸ¯ ä¼æ¥­ç´šé…ç½®ç­–ç•¥"></a>ğŸ¯ ä¼æ¥­ç´šé…ç½®ç­–ç•¥</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼æ¥­ç´š HttpClient é…ç½®å·¥å» </span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">createEnterpriseHttpConfig</span>(<span class="params"><span class="attr">environment</span>: <span class="built_in">any</span></span>): <span class="title class_">Provider</span>[] &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">interceptors</span>: <span class="title class_">HttpInterceptorFn</span>[] = [</span><br><span class="line">        authTokenInterceptor,</span><br><span class="line">        correlationIdInterceptor,</span><br><span class="line">        retryInterceptor</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é–‹ç™¼ç’°å¢ƒæ·»åŠ é™¤éŒ¯å·¥å…·</span></span><br><span class="line">    <span class="keyword">if</span> (!environment.<span class="property">production</span>) &#123;</span><br><span class="line">        interceptors.<span class="title function_">push</span>(</span><br><span class="line">            requestLoggingInterceptor,</span><br><span class="line">            responseTimeInterceptor,</span><br><span class="line">            mockDataInterceptor</span><br><span class="line">        );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        <span class="title function_">provideHttpClient</span>(</span><br><span class="line">            <span class="title function_">withInterceptors</span>(interceptors),</span><br><span class="line">            <span class="title function_">withInterceptorsFromDI</span>(), <span class="comment">// æ”¯æ´ç¬¬ä¸‰æ–¹åº«</span></span><br><span class="line">            <span class="title function_">withFetch</span>(), <span class="comment">// ç¾ä»£åŒ– HTTP å¯¦ç¾</span></span><br><span class="line">            <span class="title function_">withRequestsMadeViaParent</span>() <span class="comment">// SSR æ”¯æ´</span></span><br><span class="line">        ),</span><br><span class="line">        <span class="comment">// ç’°å¢ƒç‰¹å®šçš„ HTTP é…ç½®</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">HTTP_CONFIG</span>,</span><br><span class="line">            <span class="attr">useValue</span>: &#123;</span><br><span class="line">                <span class="attr">timeout</span>: environment.<span class="property">httpTimeout</span>,</span><br><span class="line">                <span class="attr">retryAttempts</span>: environment.<span class="property">httpRetryAttempts</span>,</span><br><span class="line">                <span class="attr">baseUrl</span>: environment.<span class="property">apiBaseUrl</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ”„-è‡ªå‹•åŒ–é·ç§»å·¥å…·"><a href="#ğŸ”„-è‡ªå‹•åŒ–é·ç§»å·¥å…·" class="headerlink" title="ğŸ”„ è‡ªå‹•åŒ–é·ç§»å·¥å…·"></a>ğŸ”„ è‡ªå‹•åŒ–é·ç§»å·¥å…·</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå‹•æª¢æ¸¬ä¸¦å»ºè­°é·ç§»çš„å·¥å…·å‡½æ•¸</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">analyzeHttpConfigMigration</span>(<span class="params"><span class="attr">appConfig</span>: <span class="title class_">ApplicationConfig</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> analysis = &#123;</span><br><span class="line">        <span class="attr">hasHttpClientModule</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">hasProvideHttpClient</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">needsDIMigration</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">recommendations</span>: []</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ†æç¾æœ‰é…ç½®</span></span><br><span class="line">    appConfig.<span class="property">providers</span>?.<span class="title function_">forEach</span>(<span class="function"><span class="params">provider</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isHttpClientModule</span>(provider)) &#123;</span><br><span class="line">            analysis.<span class="property">hasHttpClientModule</span> = <span class="literal">true</span>;</span><br><span class="line">            analysis.<span class="property">recommendations</span>.<span class="title function_">push</span>(<span class="string">&#x27;é·ç§»åˆ° provideHttpClient()&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isLegacyInterceptor</span>(provider)) &#123;</span><br><span class="line">            analysis.<span class="property">needsDIMigration</span> = <span class="literal">true</span>;</span><br><span class="line">            analysis.<span class="property">recommendations</span>.<span class="title function_">push</span>(<span class="string">&#x27;æ·»åŠ  withInterceptorsFromDI() æ”¯æ´&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> analysis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ§ª-æ¸¬è©¦ç­–ç•¥å¢å¼·"><a href="#ğŸ§ª-æ¸¬è©¦ç­–ç•¥å¢å¼·" class="headerlink" title="ğŸ§ª æ¸¬è©¦ç­–ç•¥å¢å¼·"></a>ğŸ§ª æ¸¬è©¦ç­–ç•¥å¢å¼·</h3><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡å° HttpClient é…ç½®çš„æ¸¬è©¦å·¥å…·</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">createHttpClientTestingConfig</span>(<span class="params"></span>): <span class="title class_">Provider</span>[] &#123;</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        <span class="title function_">provideHttpClient</span>(</span><br><span class="line">            <span class="title function_">withInterceptors</span>([</span><br><span class="line">                mockAuthInterceptor,</span><br><span class="line">                testLoggingInterceptor</span><br><span class="line">            ]),</span><br><span class="line">            <span class="title function_">withInterceptorsFromDI</span>()</span><br><span class="line">        ),</span><br><span class="line">        <span class="title function_">provideHttpClientTesting</span>(),</span><br><span class="line">        <span class="comment">// æ¸¬è©¦å°ˆç”¨çš„æ¨¡æ“¬æ•¸æ“šæä¾›è€…</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">provide</span>: <span class="variable constant_">TEST_HTTP_CONFIG</span>,</span><br><span class="line">            <span class="attr">useValue</span>: &#123;</span><br><span class="line">                <span class="attr">enableMocking</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">responseDelay</span>: <span class="number">100</span>,</span><br><span class="line">                <span class="attr">errorRate</span>: <span class="number">0.1</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ“-æŠ€è¡“æ”¯æ´èˆ‡åƒè€ƒè³‡æº"><a href="#ğŸ“-æŠ€è¡“æ”¯æ´èˆ‡åƒè€ƒè³‡æº" class="headerlink" title="ğŸ“ æŠ€è¡“æ”¯æ´èˆ‡åƒè€ƒè³‡æº"></a>ğŸ“ æŠ€è¡“æ”¯æ´èˆ‡åƒè€ƒè³‡æº</h2><h3 id="ğŸ› ï¸-é–‹ç™¼å·¥å…·"><a href="#ğŸ› ï¸-é–‹ç™¼å·¥å…·" class="headerlink" title="ğŸ› ï¸ é–‹ç™¼å·¥å…·"></a>ğŸ› ï¸ é–‹ç™¼å·¥å…·</h3><ul>
<li><strong>Angular DevTools</strong>ï¼šç›£æ§ HTTP è«‹æ±‚å’Œ interceptors åŸ·è¡Œ</li>
<li><strong>Network Tab</strong>ï¼šæª¢æŸ¥å¯¦éš›çš„ HTTP è«‹æ±‚å’Œå›æ‡‰</li>
<li><strong>Angular CLI</strong>ï¼š<code>ng update</code> è‡ªå‹•åŒ–é·ç§»è¼”åŠ©</li>
</ul>
<h3 id="ğŸ“š-å®˜æ–¹æ–‡ä»¶"><a href="#ğŸ“š-å®˜æ–¹æ–‡ä»¶" class="headerlink" title="ğŸ“š å®˜æ–¹æ–‡ä»¶"></a>ğŸ“š å®˜æ–¹æ–‡ä»¶</h3><ul>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/http">Angular HttpClient Guide</a></strong>ï¼šå®˜æ–¹ HTTP å®¢æˆ¶ç«¯å®Œæ•´æŒ‡å—</li>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/http-interceptors">HTTP Interceptors</a></strong>ï¼šæ””æˆªå™¨ä½¿ç”¨å’Œé…ç½®</li>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/standalone-components#configuring-dependency-injection">Standalone Bootstrap</a></strong>ï¼šç¨ç«‹çµ„ä»¶é…ç½®æŒ‡å—</li>
<li><strong><a target="_blank" rel="noopener" href="https://update.angular.io/">Angular Update Guide</a></strong>ï¼šç‰ˆæœ¬å‡ç´šå’Œé·ç§»æŒ‡å—</li>
</ul>
<h3 id="ğŸŒ-ç¤¾ç¾¤è³‡æº"><a href="#ğŸŒ-ç¤¾ç¾¤è³‡æº" class="headerlink" title="ğŸŒ ç¤¾ç¾¤è³‡æº"></a>ğŸŒ ç¤¾ç¾¤è³‡æº</h3><ul>
<li><strong><a target="_blank" rel="noopener" href="https://blog.angular.io/">Angular Blog</a></strong>ï¼šå®˜æ–¹æŠ€è¡“éƒ¨è½æ ¼</li>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/angular/angular/discussions">GitHub Discussion</a></strong>ï¼šæŠ€è¡“è¨è«–å’Œå•é¡Œè§£ç­”</li>
<li><strong><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/tagged/angular-httpclient">Stack Overflow</a></strong>ï¼šå¸¸è¦‹å•é¡Œå’Œè§£æ±ºæ–¹æ¡ˆ</li>
<li><strong><a target="_blank" rel="noopener" href="https://www.angularjp.org/">Angular Community</a></strong>ï¼šç¤¾ç¾¤äº¤æµå’Œæœ€ä½³å¯¦è¸åˆ†äº«</li>
</ul>
<h3 id="ğŸ”—-ç›¸é—œå·¥å…·å’Œåº«"><a href="#ğŸ”—-ç›¸é—œå·¥å…·å’Œåº«" class="headerlink" title="ğŸ”— ç›¸é—œå·¥å…·å’Œåº«"></a>ğŸ”— ç›¸é—œå·¥å…·å’Œåº«</h3><ul>
<li><strong><a target="_blank" rel="noopener" href="https://ngneat.github.io/transloco/">Transloco</a></strong>ï¼šåœ‹éš›åŒ–è§£æ±ºæ–¹æ¡ˆ</li>
<li><strong><a target="_blank" rel="noopener" href="https://angular.io/guide/service-worker-intro">Angular PWA</a></strong>ï¼šProgressive Web App æ”¯æ´</li>
<li><strong><a target="_blank" rel="noopener" href="https://rxjs.dev/">RxJS</a></strong>ï¼šéŸ¿æ‡‰å¼ç¨‹å¼è¨­è¨ˆå·¥å…·</li>
<li><strong><a target="_blank" rel="noopener" href="https://github.com/Zak-C/ngx-loading">NGX-Loading</a></strong>ï¼šHTTP è«‹æ±‚è¼‰å…¥ç‹€æ…‹ç®¡ç†</li>
</ul>
<hr>
<p><strong>ä½œè€…</strong>ï¼šæŠ€è¡“åœ˜éšŠ<br><strong>ç‰ˆæœ¬</strong>ï¼šv1.0<br><strong>æœ€å¾Œæ›´æ–°</strong>ï¼š2025-01-31<br><strong>æ–‡ä»¶ç‹€æ…‹</strong>ï¼šâœ… å·²å®Œæˆ</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://cookieseventeen.github.io/2025/06/29/angular-httpclient-modern-configuration-guide/" data-id="cmg51zr620001ncmz2sn7gqol" data-title="Angular HttpClient ç¾ä»£åŒ–é…ç½®èˆ‡ withInterceptorsFromDI å¯¦æˆ°æŒ‡å—" class="article-share-link"><span class="fa fa-share">Share</span></a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular-15/" rel="tag">Angular 15+</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Angular-Configuration/" rel="tag">Angular Configuration</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Dependency-Injection/" rel="tag">Dependency Injection</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTTP-Interceptors/" rel="tag">HTTP Interceptors</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HttpClient/" rel="tag">HttpClient</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Migration-Guide/" rel="tag">Migration Guide</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Standalone-Components/" rel="tag">Standalone Components</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Transloco/" rel="tag">Transloco</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/provideHttpClient/" rel="tag">provideHttpClient</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/withInterceptorsFromDI/" rel="tag">withInterceptorsFromDI</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2025/06/29/angular-ssr-transloco-setup-complete-guide/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Angular SSR + Transloco åœ‹éš›åŒ–é…ç½®å¯¦æˆ°æŒ‡å—
        
      </div>
    </a>
  
  
    <a href="/2025/06/29/eslint-configuration-best-practices-guide/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">ESLint 9.x é©å‘½æ€§é…ç½®èˆ‡å‰ç«¯é–‹ç™¼æœ€ä½³åŒ–å¯¦æˆ°æŒ‡å—</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">åˆ†é¡</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Tech-Daily/">Tech Daily</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ¨™ç±¤</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARM/" rel="tag">ARM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular/" rel="tag">Angular</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-15/" rel="tag">Angular 15+</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-19/" rel="tag">Angular 19</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-19/" rel="tag">Angular 19+</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-Configuration/" rel="tag">Angular Configuration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-SSR/" rel="tag">Angular SSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Angular-Universal/" rel="tag">Angular Universal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Animation-Loop/" rel="tag">Animation Loop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Best-Practices/" rel="tag">Best Practices</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Buildx/" rel="tag">Buildx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CI-CD/" rel="tag">CI&#x2F;CD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Canvas/" rel="tag">Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clean-Architecture/" rel="tag">Clean Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Clustering/" rel="tag">Clustering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Code-Quality/" rel="tag">Code Quality</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Composables/" rel="tag">Composables</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Composition-API/" rel="tag">Composition API</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Creative-Coding/" rel="tag">Creative Coding</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Visualization/" rel="tag">Data Visualization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Debugging/" rel="tag">Debugging</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Dependency-Injection/" rel="tag">Dependency Injection</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Design-Patterns/" rel="tag">Design Patterns</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Developer-Experience/" rel="tag">Developer Experience</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Device-Pixel-Ratio/" rel="tag">Device Pixel Ratio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Docker/" rel="tag">Docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ESLint-9-x/" rel="tag">ESLint 9.x</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Enterprise-Architecture/" rel="tag">Enterprise Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Error-Handling/" rel="tag">Error Handling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Feature-Modules/" rel="tag">Feature Modules</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Flat-Config/" rel="tag">Flat Config</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Architecture/" rel="tag">Frontend Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Initialization/" rel="tag">Frontend Initialization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Frontend-Tooling/" rel="tag">Frontend Tooling</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GeoJSON/" rel="tag">GeoJSON</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Global-Properties/" rel="tag">Global Properties</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML5-Canvas/" rel="tag">HTML5 Canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTTP-Interceptors/" rel="tag">HTTP Interceptors</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HttpClient/" rel="tag">HttpClient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hydration/" rel="tag">Hydration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Interactive-Maps/" rel="tag">Interactive Maps</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Internationalization/" rel="tag">Internationalization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linting-Rules/" rel="tag">Linting Rules</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mapbox/" rel="tag">Mapbox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mapbox-GL-JS/" rel="tag">Mapbox GL JS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Migration-Guide/" rel="tag">Migration Guide</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Multi-language/" rel="tag">Multi-language</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Multi-platform/" rel="tag">Multi-platform</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Naming-Convention/" rel="tag">Naming Convention</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/NullInjectorError/" rel="tag">NullInjectorError</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Offline-Deployment/" rel="tag">Offline Deployment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Performance-Optimization/" rel="tag">Performance Optimization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Pinia/" rel="tag">Pinia</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Prerender/" rel="tag">Prerender</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PrimeNG/" rel="tag">PrimeNG</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Procedural-Animation/" rel="tag">Procedural Animation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Production-Deployment/" rel="tag">Production Deployment</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Production-Issues/" rel="tag">Production Issues</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Project-Architecture/" rel="tag">Project Architecture</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Project-Setup/" rel="tag">Project Setup</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RenderMode/" rel="tag">RenderMode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Route-Guards/" rel="tag">Route Guards</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SEO/" rel="tag">SEO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR/" rel="tag">SSR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSR-Configuration/" rel="tag">SSR Configuration</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Server-Side-Rendering/" rel="tag">Server-Side Rendering</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Service-Pattern/" rel="tag">Service Pattern</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Signals/" rel="tag">Signals</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Simplex-Noise/" rel="tag">Simplex Noise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Standalone-Components/" rel="tag">Standalone Components</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/State-Management/" rel="tag">State Management</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tailwind-CSS/" rel="tag">Tailwind CSS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Transloco/" rel="tag">Transloco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Troubleshooting/" rel="tag">Troubleshooting</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TypeScript/" rel="tag">TypeScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/USGS-Data/" rel="tag">USGS Data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Visualization/" rel="tag">Visualization</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-js/" rel="tag">Vue.js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Web-Mapping/" rel="tag">Web Mapping</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i18n/" rel="tag">i18n</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/i18n-Debug/" rel="tag">i18n Debug</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsverse-transloco/" rel="tag">jsverse&#x2F;transloco</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/provideHttpClient/" rel="tag">provideHttpClient</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/withInterceptorsFromDI/" rel="tag">withInterceptorsFromDI</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ¨™ç±¤é›²</h3>
    <div class="widget tagcloud">
      <a href="/tags/ARM/" style="font-size: 10px;">ARM</a> <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/Angular-15/" style="font-size: 10px;">Angular 15+</a> <a href="/tags/Angular-19/" style="font-size: 16.67px;">Angular 19</a> <a href="/tags/Angular-19/" style="font-size: 10px;">Angular 19+</a> <a href="/tags/Angular-Configuration/" style="font-size: 10px;">Angular Configuration</a> <a href="/tags/Angular-SSR/" style="font-size: 10px;">Angular SSR</a> <a href="/tags/Angular-Universal/" style="font-size: 20px;">Angular Universal</a> <a href="/tags/Animation-Loop/" style="font-size: 10px;">Animation Loop</a> <a href="/tags/Best-Practices/" style="font-size: 10px;">Best Practices</a> <a href="/tags/Buildx/" style="font-size: 10px;">Buildx</a> <a href="/tags/CI-CD/" style="font-size: 10px;">CI/CD</a> <a href="/tags/Canvas/" style="font-size: 10px;">Canvas</a> <a href="/tags/Clean-Architecture/" style="font-size: 10px;">Clean Architecture</a> <a href="/tags/Clustering/" style="font-size: 10px;">Clustering</a> <a href="/tags/Code-Quality/" style="font-size: 10px;">Code Quality</a> <a href="/tags/Composables/" style="font-size: 10px;">Composables</a> <a href="/tags/Composition-API/" style="font-size: 10px;">Composition API</a> <a href="/tags/Creative-Coding/" style="font-size: 10px;">Creative Coding</a> <a href="/tags/Data-Visualization/" style="font-size: 10px;">Data Visualization</a> <a href="/tags/Debugging/" style="font-size: 10px;">Debugging</a> <a href="/tags/Dependency-Injection/" style="font-size: 10px;">Dependency Injection</a> <a href="/tags/Design-Patterns/" style="font-size: 10px;">Design Patterns</a> <a href="/tags/Developer-Experience/" style="font-size: 10px;">Developer Experience</a> <a href="/tags/Device-Pixel-Ratio/" style="font-size: 10px;">Device Pixel Ratio</a> <a href="/tags/Docker/" style="font-size: 10px;">Docker</a> <a href="/tags/ESLint-9-x/" style="font-size: 10px;">ESLint 9.x</a> <a href="/tags/Enterprise-Architecture/" style="font-size: 10px;">Enterprise Architecture</a> <a href="/tags/Error-Handling/" style="font-size: 13.33px;">Error Handling</a> <a href="/tags/Feature-Modules/" style="font-size: 10px;">Feature Modules</a> <a href="/tags/Flat-Config/" style="font-size: 10px;">Flat Config</a> <a href="/tags/Frontend-Architecture/" style="font-size: 10px;">Frontend Architecture</a> <a href="/tags/Frontend-Initialization/" style="font-size: 10px;">Frontend Initialization</a> <a href="/tags/Frontend-Tooling/" style="font-size: 10px;">Frontend Tooling</a> <a href="/tags/GeoJSON/" style="font-size: 10px;">GeoJSON</a> <a href="/tags/Global-Properties/" style="font-size: 10px;">Global Properties</a> <a href="/tags/HTML5-Canvas/" style="font-size: 10px;">HTML5 Canvas</a> <a href="/tags/HTTP-Interceptors/" style="font-size: 10px;">HTTP Interceptors</a> <a href="/tags/HttpClient/" style="font-size: 10px;">HttpClient</a> <a href="/tags/Hydration/" style="font-size: 13.33px;">Hydration</a> <a href="/tags/Interactive-Maps/" style="font-size: 10px;">Interactive Maps</a> <a href="/tags/Internationalization/" style="font-size: 10px;">Internationalization</a> <a href="/tags/JavaScript/" style="font-size: 13.33px;">JavaScript</a> <a href="/tags/Linting-Rules/" style="font-size: 10px;">Linting Rules</a> <a href="/tags/Mapbox/" style="font-size: 10px;">Mapbox</a> <a href="/tags/Mapbox-GL-JS/" style="font-size: 10px;">Mapbox GL JS</a> <a href="/tags/Migration-Guide/" style="font-size: 10px;">Migration Guide</a> <a href="/tags/Multi-language/" style="font-size: 10px;">Multi-language</a> <a href="/tags/Multi-platform/" style="font-size: 10px;">Multi-platform</a> <a href="/tags/Naming-Convention/" style="font-size: 10px;">Naming Convention</a> <a href="/tags/NullInjectorError/" style="font-size: 10px;">NullInjectorError</a> <a href="/tags/Offline-Deployment/" style="font-size: 10px;">Offline Deployment</a> <a href="/tags/Performance-Optimization/" style="font-size: 16.67px;">Performance Optimization</a> <a href="/tags/Pinia/" style="font-size: 10px;">Pinia</a> <a href="/tags/Prerender/" style="font-size: 13.33px;">Prerender</a> <a href="/tags/PrimeNG/" style="font-size: 10px;">PrimeNG</a> <a href="/tags/Procedural-Animation/" style="font-size: 10px;">Procedural Animation</a> <a href="/tags/Production-Deployment/" style="font-size: 10px;">Production Deployment</a> <a href="/tags/Production-Issues/" style="font-size: 10px;">Production Issues</a> <a href="/tags/Project-Architecture/" style="font-size: 10px;">Project Architecture</a> <a href="/tags/Project-Setup/" style="font-size: 10px;">Project Setup</a> <a href="/tags/RenderMode/" style="font-size: 13.33px;">RenderMode</a> <a href="/tags/Route-Guards/" style="font-size: 13.33px;">Route Guards</a> <a href="/tags/SEO/" style="font-size: 13.33px;">SEO</a> <a href="/tags/SSR/" style="font-size: 16.67px;">SSR</a> <a href="/tags/SSR-Configuration/" style="font-size: 13.33px;">SSR Configuration</a> <a href="/tags/Server-Side-Rendering/" style="font-size: 16.67px;">Server-Side Rendering</a> <a href="/tags/Service-Pattern/" style="font-size: 10px;">Service Pattern</a> <a href="/tags/Signals/" style="font-size: 10px;">Signals</a> <a href="/tags/Simplex-Noise/" style="font-size: 10px;">Simplex Noise</a> <a href="/tags/Standalone-Components/" style="font-size: 13.33px;">Standalone Components</a> <a href="/tags/State-Management/" style="font-size: 10px;">State Management</a> <a href="/tags/Tailwind-CSS/" style="font-size: 10px;">Tailwind CSS</a> <a href="/tags/Transloco/" style="font-size: 16.67px;">Transloco</a> <a href="/tags/Troubleshooting/" style="font-size: 10px;">Troubleshooting</a> <a href="/tags/TypeScript/" style="font-size: 10px;">TypeScript</a> <a href="/tags/USGS-Data/" style="font-size: 10px;">USGS Data</a> <a href="/tags/Visualization/" style="font-size: 10px;">Visualization</a> <a href="/tags/Vue-js/" style="font-size: 10px;">Vue.js</a> <a href="/tags/Web-Mapping/" style="font-size: 10px;">Web Mapping</a> <a href="/tags/i18n/" style="font-size: 10px;">i18n</a> <a href="/tags/i18n-Debug/" style="font-size: 10px;">i18n Debug</a> <a href="/tags/jsverse-transloco/" style="font-size: 10px;">jsverse/transloco</a> <a href="/tags/provideHttpClient/" style="font-size: 10px;">provideHttpClient</a> <a href="/tags/withInterceptorsFromDI/" style="font-size: 10px;">withInterceptorsFromDI</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½™æ•´</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/09/">ä¹æœˆ 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">å…­æœˆ 2025</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/09/29/canvas-simplex-noise-wave-animation-guide/">Canvas + Simplex Noise å‹•æ…‹æ“¬çœŸæ³¢æµªå¯¦ä½œæŒ‡å—</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-enterprise-project-initialization-guide/">Angular 19 ä¼æ¥­ç´šå‰ç«¯å°ˆæ¡ˆåˆå§‹åŒ–å®Œæ•´æŒ‡å—</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-ssr-transloco-troubleshooting-guide/">Angular SSR + Transloco æ•…éšœæ’é™¤èˆ‡é™¤éŒ¯å®Œæ•´æŒ‡å—</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-ssr-transloco-setup-complete-guide/">Angular SSR + Transloco åœ‹éš›åŒ–é…ç½®å¯¦æˆ°æŒ‡å—</a>
          </li>
        
          <li>
            <a href="/2025/06/29/angular-httpclient-modern-configuration-guide/">Angular HttpClient ç¾ä»£åŒ–é…ç½®èˆ‡ withInterceptorsFromDI å¯¦æˆ°æŒ‡å—</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2025 Ben Hsieh<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.6.4.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>